<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Thi Th·ª≠ IOE L·ªõp 6 T∆∞∆°ng T√°c</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- C·∫•u h√¨nh Font v√† Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#4f46e5',
                        'primary-dark': '#4338ca',
                        'success': '#10b981',
                        'error': '#ef4444',
                        'info': '#3b82f6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        /* T√πy ch·ªânh n√∫t */
        .btn {
            @apply px-4 py-2 font-semibold text-white transition duration-200 ease-in-out rounded-xl shadow-lg hover:shadow-xl;
        }

        .btn-primary {
            @apply bg-primary hover:bg-primary-dark;
        }

        .btn-success {
            @apply bg-success hover:bg-emerald-600;
        }

        .btn-error {
            @apply bg-error hover:bg-red-600;
        }

        /* Hi·ªáu ·ª©ng ph√°o hoa */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        /* L·ªõp ·∫©n g·ª£i √Ω m·∫∑c ƒë·ªãnh */
        #hint-text {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* L·ªõp hi·ªÉn th·ªã g·ª£i √Ω khi gi·ªØ n√∫t */
        .show-hint #hint-text {
            visibility: visible;
            opacity: 1;
        }

        /* Toast Notification */
        #toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 10000;
            max-width: 90vw;
            pointer-events: none;
        }
        .toast {
            @apply p-4 rounded-xl shadow-2xl mb-3 transform transition-all duration-300 ease-out;
            opacity: 0;
            transform: translateY(-20px);
            pointer-events: auto;
        }
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Khung ch·ª©a ·ª©ng d·ª•ng ch√≠nh -->
    <div id="app" class="min-h-screen flex flex-col items-center p-4">
        
        <!-- M√†n h√¨nh ch√†o m·ª´ng/ƒêƒÉng nh·∫≠p -->
        <div id="start-screen" class="w-full max-w-lg p-8 bg-white rounded-2xl shadow-2xl transition duration-500">
            <h1 class="text-3xl font-extrabold text-primary mb-4 text-center">B√†i Thi Th·ª≠ IOE 6</h1>
            <p class="text-gray-600 text-center mb-6">Nh·∫≠p t√™n c·ªßa b·∫°n ƒë·ªÉ b·∫Øt ƒë·∫ßu luy·ªán t·∫≠p (t·ªïng 117 c√¢u).</p>
            
            <input type="text" id="player-name-input" placeholder="T√™n c·ªßa b·∫°n..." 
                   class="w-full px-4 py-3 mb-6 border border-gray-300 rounded-xl focus:ring-primary focus:border-primary transition duration-150">
            
            <button onclick="startGame()" class="btn btn-primary w-full py-3 text-lg">
                B·∫Øt ƒê·∫ßu Thi
            </button>
            <p class="mt-4 text-sm text-center text-gray-500">M·ªói c√¢u ƒë√∫ng l·∫ßn ƒë·∫ßu ƒë∆∞·ª£c 10 ƒëi·ªÉm. C·ªë l√™n nh√©!</p>
        </div>

        <!-- M√†n h√¨nh B√†i thi -->
        <div id="quiz-screen" class="w-full max-w-3xl p-6 bg-white rounded-2xl shadow-2xl hidden flex-col">
            
            <!-- Thanh th√¥ng tin -->
            <div class="flex justify-between items-center p-4 mb-4 bg-primary text-white rounded-xl shadow-md">
                <div class="flex-1">
                    <p class="text-sm">Th√≠ sinh:</p>
                    <p id="display-player-name" class="font-bold text-lg"></p>
                </div>
                <div class="text-right">
                    <p id="display-score" class="font-bold text-3xl">0</p>
                    <p class="text-sm">ƒêi·ªÉm</p>
                </div>
                <div class="ml-6 text-center">
                    <p id="display-progress" class="font-bold text-3xl">0/0</p>
                    <p class="text-sm">C√¢u h·ªèi</p>
                </div>
            </div>

            <!-- Khu v·ª±c c√¢u h·ªèi -->
            <div id="question-area" class="space-y-6">
                <h2 id="question-title" class="text-xl font-bold text-gray-800"></h2>
                
                <!-- Hi·ªÉn th·ªã n·ªôi dung c√¢u h·ªèi (s·∫Ω ƒë∆∞·ª£c thay ƒë·ªïi b·∫±ng JS) -->
                <div id="question-content" class="min-h-[150px] flex flex-col justify-center">
                    <!-- N·ªôi dung c√¢u h·ªèi c·ª• th·ªÉ (S·∫Øp x·∫øp/ƒêi·ªÅn t·ª´/L·ª±a ch·ªçn) s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
                </div>

                <!-- Khu v·ª±c th√¥ng b√°o v√† gi·∫£i th√≠ch -->
                <div id="feedback-area" class="hidden">
                    <p id="feedback-message" class="text-lg font-semibold p-3 mb-3 rounded-xl"></p>
                    <div id="explanation-box" class="p-4 bg-info/10 border-l-4 border-info rounded-xl text-gray-700">
                        <p class="font-bold text-info mb-1">Gi·∫£i th√≠ch chi ti·∫øt:</p>
                        <p id="explanation-text"></p>
                    </div>
                </div>

                <!-- C√°c n√∫t ƒëi·ªÅu khi·ªÉn -->
                <div class="flex justify-between items-center pt-4 border-t border-gray-200">
                    <button id="hint-button" class="btn bg-orange-500 hover:bg-orange-600 relative"
                            onmousedown="showHint()" onmouseup="hideHint()" onmouseleave="hideHint()"
                            ontouchstart="showHint()" ontouchend="hideHint()" ontouchcancel="hideHint()">
                        G·ª£i √Ω (Gi·ªØ)
                        <div id="hint-text" class="absolute left-0 bottom-full mb-2 p-2 bg-yellow-100 border border-yellow-400 text-yellow-800 text-sm font-normal rounded-xl whitespace-nowrap">
                            <!-- ƒê√°p √°n g·ª£i √Ω s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
                        </div>
                    </button>

                    <button id="next-button" class="btn btn-primary" onclick="nextQuestion()" disabled>
                        Ti·∫øp theo ¬ª
                    </button>
                </div>
            </div>
        </div>

        <!-- M√†n h√¨nh ch√∫c m·ª´ng -->
        <div id="complete-screen" class="w-full max-w-lg p-8 bg-white rounded-2xl shadow-2xl text-center hidden transition duration-500 relative overflow-hidden">
            <div class="confetti-container" id="confetti-canvas"></div> 
            <h1 class="text-4xl font-extrabold text-success mb-4 animate-bounce">
                üéâ Ch√∫c M·ª´ng Ho√†n Th√†nh! üéâ
            </h1>
            <p class="text-2xl text-gray-700 mb-2">B·∫°n ƒë√£ ho√†n th√†nh b√†i thi v·ªõi</p>
            <p id="final-score" class="text-6xl font-black text-primary mb-6"></p>
            <p class="text-lg text-gray-600 mb-8">H√£y l√†m l·∫°i ƒë·ªÉ ƒë·∫°t ƒëi·ªÉm cao h∆°n nh√©!</p>

            <button onclick="resetGame()" class="btn btn-success w-full py-3 text-lg">
                L√†m L·∫°i B√†i Thi
            </button>
        </div>

    </div>

    <!-- Script ch√≠nh -->
    <script>
        // C·∫•u tr√∫c d·ªØ li·ªáu b√†i thi
        const questions = [
            // --- PART 1: S·∫ÆP X·∫æP C√ÇU (42 c√¢u) ---
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["She", "goes", "to school", "every day."],
                answer: "She goes to school every day.",
                hint: "D·∫•u hi·ªáu th√¨ Hi·ªán t·∫°i ƒê∆°n: 'every day'.",
                explanation_vi: "C·∫•u tr√∫c c√¢u kh·∫≥ng ƒë·ªãnh Hi·ªán t·∫°i ƒê∆°n: Ch·ªß ng·ªØ (She) + V-es (goes) + to school + Tr·∫°ng t·ª´ ch·ªâ th·ªùi gian (every day). **Nghƒ©a: C√¥ ·∫•y ƒëi h·ªçc m·ªói ng√†y.**",
                explanation_en: "Present Simple structure: Subject + V-s/es + Object. 'Goes' is correct for 'She'."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Are", "your friends", "playing cards", "now?"],
                answer: "Are your friends playing cards now?",
                hint: "D·∫•u hi·ªáu th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn: 'now'.",
                explanation_vi: "C·∫•u tr√∫c c√¢u h·ªèi Hi·ªán t·∫°i Ti·∫øp di·ªÖn: Be (Are) + S (your friends) + V-ing (playing cards) + now? **Nghƒ©a: B·∫°n b√® c·ªßa b·∫°n c√≥ ƒëang ch∆°i b√†i kh√¥ng?**",
                explanation_en: "Present Continuous question structure: Be + S + V-ing + now?"
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["What", "will", "you", "do", "at Christmas?"],
                answer: "What will you do at Christmas?",
                hint: "C·∫•u tr√∫c c√¢u h·ªèi th√¨ T∆∞∆°ng lai ƒê∆°n.",
                explanation_vi: "C·∫•u tr√∫c c√¢u h·ªèi th√¨ T∆∞∆°ng lai ƒê∆°n: What + will + S + V nguy√™n m·∫´u + O? **Nghƒ©a: B·∫°n s·∫Ω l√†m g√¨ v√†o d·ªãp Gi√°ng sinh?**",
                explanation_en: "Future Simple question structure: What + will + S + V?"
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["It's", "dangerous", "to swim", "there."],
                answer: "It's dangerous to swim there.",
                hint: "C·∫•u tr√∫c: It's + Adj + to V.",
                explanation_vi: "C·∫•u tr√∫c: **It's dangerous to V** (Nguy hi·ªÉm ƒë·ªÉ l√†m g√¨). **Nghƒ©a: Nguy hi·ªÉm khi b∆°i ·ªü ƒë√≥.**",
                explanation_en: "Structure: **It's dangerous to V** (It's dangerous to do something)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["She", "has", "a new", "bicycle."],
                answer: "She has a new bicycle.",
                hint: "ƒê·ªông t·ª´ s·ªü h·ªØu: 'has' ƒëi v·ªõi ng√¥i th·ª© ba s·ªë √≠t.",
                explanation_vi: "ƒê·ªông t·ª´ **has** ƒëi v·ªõi ng√¥i th·ª© ba s·ªë √≠t 'She'. **Nghƒ©a: C√¥ ·∫•y c√≥ m·ªôt chi·∫øc xe ƒë·∫°p m·ªõi.**",
                explanation_en: "The verb **has** is used with the third person singular 'She'."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Their", "friend", "is", "funny."],
                answer: "Their friend is funny.",
                hint: "C·∫•u tr√∫c: S + be + Adj.",
                explanation_vi: "**Funny** l√† t√≠nh t·ª´ m√¥ t·∫£ 'Their friend'. **Nghƒ©a: B·∫°n c·ªßa h·ªç th·∫≠t vui t√≠nh.**",
                explanation_en: "Funny is an adjective describing 'Their friend'."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Is", "a dog", "bigger", "than a cat?"],
                answer: "Is a dog bigger than a cat?",
                hint: "So s√°nh h∆°n v·ªõi t√≠nh t·ª´ ng·∫Øn.",
                explanation_vi: "C·∫•u tr√∫c so s√°nh h∆°n: Is + Noun 1 + Adj-er + **than** + Noun 2? **Nghƒ©a: M·ªôt con ch√≥ c√≥ l·ªõn h∆°n m·ªôt con m√®o kh√¥ng?**",
                explanation_en: "Comparative structure: Is + Noun 1 + Adj-er + **than** + Noun 2?"
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Linh", "is", "my mother's", "English teacher."],
                answer: "Linh is my mother's English teacher.",
                hint: "S·ªü h·ªØu c√°ch.",
                explanation_vi: "**My mother's English teacher** (gi√°o vi√™n ti·∫øng Anh c·ªßa m·∫π t√¥i). **Nghƒ©a: Linh l√† gi√°o vi√™n ti·∫øng Anh c·ªßa m·∫π t√¥i.**",
                explanation_en: "My mother's English teacher (using the possessive 's)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["My close friend", "likes", "meeting", "new people."],
                answer: "My close friend likes meeting new people.",
                hint: "ƒê·ªông t·ª´ theo sau 'likes'.",
                explanation_vi: "Sau ƒë·ªông t·ª´ **likes** l√† V-ing (**meeting**). **Nghƒ©a: B·∫°n th√¢n c·ªßa t√¥i th√≠ch g·∫∑p g·ª° nh·ªØng ng∆∞·ªùi m·ªõi.**",
                explanation_en: "The verb **likes** is followed by a V-ing (**meeting**)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["The kids", "are eating", "ice cream."],
                answer: "The kids are eating ice cream.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn.",
                explanation_vi: "Ch·ªß ng·ªØ s·ªë nhi·ªÅu 'The kids' ƒëi v·ªõi **are eating** (ƒëang ƒÉn). **Nghƒ©a: Nh·ªØng ƒë·ª©a tr·∫ª ƒëang ƒÉn kem.**",
                explanation_en: "Plural subject 'The kids' goes with **are eating** (Present Continuous)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["He", "sometimes", "goes", "swimming."],
                answer: "He sometimes goes swimming.",
                hint: "V·ªã tr√≠ tr·∫°ng t·ª´ t·∫ßn su·∫•t: tr∆∞·ªõc ƒë·ªông t·ª´ th∆∞·ªùng.",
                explanation_vi: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t **sometimes** ƒë·ª©ng tr∆∞·ªõc ƒë·ªông t·ª´ th∆∞·ªùng **goes**. **Nghƒ©a: Anh ·∫•y th·ªânh tho·∫£ng ƒëi b∆°i.**",
                explanation_en: "Adverb of frequency **sometimes** comes before the main verb **goes**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["There", "isn't", "any snow", "on the road."],
                answer: "There isn't any snow on the road.",
                hint: "C·∫•u tr√∫c: There is/are (d√πng isn't cho danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c).",
                explanation_vi: "D√πng **isn't** (s·ªë √≠t) v√¨ 'snow' l√† danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c. **Any** d√πng trong c√¢u ph·ªß ƒë·ªãnh. **Nghƒ©a: Kh√¥ng c√≥ tuy·∫øt tr√™n ƒë∆∞·ªùng.**",
                explanation_en: "Use **isn't** for the uncountable noun 'snow'. **Any** is used in the negative sentence."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Linh", "is", "a nice girl", "with long", "black hair."],
                answer: "Linh is a nice girl with long black hair.",
                hint: "Gi·ªõi t·ª´ m√¥ t·∫£ ƒë·∫∑c ƒëi·ªÉm.",
                explanation_vi: "S·ª≠ d·ª•ng gi·ªõi t·ª´ **with** ƒë·ªÉ m√¥ t·∫£ m·ªôt ƒë·∫∑c ƒëi·ªÉm ngo·∫°i h√¨nh. **Nghƒ©a: Linh l√† m·ªôt c√¥ g√°i t·ªët b·ª•ng v·ªõi m√°i t√≥c ƒëen d√†i.**",
                explanation_en: "Use the preposition **with** to describe a physical feature."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Nam", "lives", "in the suburbs", "of Da Nang", "City."],
                answer: "Nam lives in the suburbs of Da Nang City.",
                hint: "C·ª•m t·ª´ ch·ªâ ƒë·ªãa ƒëi·ªÉm: 'in the suburbs of'.",
                explanation_vi: "**In the suburbs of** (·ªü v√πng ngo·∫°i √¥ c·ªßa) + t√™n ƒë·ªãa danh. **Nghƒ©a: Nam s·ªëng ·ªü v√πng ngo·∫°i √¥ th√†nh ph·ªë ƒê√† N·∫µng.**",
                explanation_en: "**In the suburbs of** + place name."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["She's", "not", "talking", "to a foreigner", "now."],
                answer: "She's not talking to a foreigner now.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn, ph·ªß ƒë·ªãnh.",
                explanation_vi: "C·∫•u tr√∫c ph·ªß ƒë·ªãnh Hi·ªán t·∫°i Ti·∫øp di·ªÖn: S + be + **not + V-ing**. **Nghƒ©a: Hi·ªán t·∫°i c√¥ ·∫•y kh√¥ng ƒëang n√≥i chuy·ªán v·ªõi ng∆∞·ªùi n∆∞·ªõc ngo√†i.**",
                explanation_en: "Negative Present Continuous structure: S + be + **not + V-ing**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Is the Nile", "the longest river", "in the world?"],
                answer: "Is the Nile the longest river in the world?",
                hint: "C·∫•u tr√∫c so s√°nh nh·∫•t.",
                explanation_vi: "C·∫•u tr√∫c c√¢u h·ªèi so s√°nh nh·∫•t: Is + Noun + **the longest** + Noun phrase? **Nghƒ©a: S√¥ng Nile c√≥ ph·∫£i l√† con s√¥ng d√†i nh·∫•t th·∫ø gi·ªõi kh√¥ng?**",
                explanation_en: "Superlative question structure: Is + Noun + **the longest** + Noun phrase?"
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["These are", "my classmates.", "His name", "is Minh."],
                answer: "These are my classmates. His name is Minh.",
                hint: "Chia th√†nh hai c√¢u ƒë∆°n: gi·ªõi thi·ªáu v√† n√™u t√™n.",
                explanation_vi: "C√¢u 1: **These are my classmates** (ƒê√¢y l√† c√°c b·∫°n c√πng l·ªõp c·ªßa t√¥i). C√¢u 2: **His name is Minh** (T√™n c·∫≠u ·∫•y l√† Minh).",
                explanation_en: "Sentence 1: **These are my classmates**. Sentence 2: **His name is Minh**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["My brother", "doesn't play", "computer games", "on weekdays."],
                answer: "My brother doesn't play computer games on weekdays.",
                hint: "Hi·ªán t·∫°i ƒê∆°n, ph·ªß ƒë·ªãnh.",
                explanation_vi: "Ph·ªß ƒë·ªãnh Hi·ªán t·∫°i ƒê∆°n: S + **doesn't + V nguy√™n m·∫´u**. **Nghƒ©a: Anh trai t√¥i kh√¥ng ch∆°i tr√≤ ch∆°i m√°y t√≠nh v√†o c√°c ng√†y trong tu·∫ßn.**",
                explanation_en: "Negative Present Simple: S + **doesn't + bare V**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["My friends", "are playing", "table tennis", "in the gym."],
                answer: "My friends are playing table tennis in the gym.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn v√† gi·ªõi t·ª´ ch·ªâ n∆°i ch·ªën.",
                explanation_vi: "Ch·ªß ng·ªØ s·ªë nhi·ªÅu 'My friends' ƒëi v·ªõi **are playing**. **Nghƒ©a: B·∫°n b√® t√¥i ƒëang ch∆°i b√≥ng b√†n trong ph√≤ng t·∫≠p th·ªÉ d·ª•c.**",
                explanation_en: "Plural subject 'My friends' goes with **are playing**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["The children", "are singing", "a song."],
                answer: "The children are singing a song.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn.",
                explanation_vi: "Ch·ªß ng·ªØ s·ªë nhi·ªÅu 'The children' ƒëi v·ªõi **are singing**. **Nghƒ©a: B·ªçn tr·∫ª ƒëang h√°t m·ªôt b√†i h√°t.**",
                explanation_en: "Plural subject 'The children' goes with **are singing**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["She", "sometimes", "plays", "the piano."],
                answer: "She sometimes plays the piano.",
                hint: "V·ªã tr√≠ tr·∫°ng t·ª´ t·∫ßn su·∫•t.",
                explanation_vi: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t **sometimes** ƒë·ª©ng tr∆∞·ªõc ƒë·ªông t·ª´ th∆∞·ªùng **plays**. **Nghƒ©a: C√¥ ·∫•y th·ªânh tho·∫£ng ch∆°i piano.**",
                explanation_en: "Adverb of frequency **sometimes** comes before the main verb **plays**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["My mother", "rarely", "goes", "to work", "late."],
                answer: "My mother rarely goes to work late.",
                hint: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t: 'rarely' ƒë·ª©ng tr∆∞·ªõc ƒë·ªông t·ª´ th∆∞·ªùng.",
                explanation_vi: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t **rarely** ƒë·ª©ng gi·ªØa ch·ªß ng·ªØ v√† ƒë·ªông t·ª´. **Nghƒ©a: M·∫π t√¥i hi·∫øm khi ƒëi l√†m mu·ªôn.**",
                explanation_en: "Adverb of frequency **rarely** comes between the subject and the verb."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["She", "likes", "drawing", "pictures."],
                answer: "She likes drawing pictures.",
                hint: "ƒê·ªông t·ª´ theo sau 'likes'.",
                explanation_vi: "Sau ƒë·ªông t·ª´ **likes** l√† V-ing (**drawing**). **Nghƒ©a: C√¥ ·∫•y th√≠ch v·∫Ω tranh.**",
                explanation_en: "The verb **likes** is followed by a V-ing (**drawing**)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Why", "does she want", "to go", "to the department store?"],
                answer: "Why does she want to go to the department store?",
                hint: "C·∫•u tr√∫c c√¢u h·ªèi Wh-question Hi·ªán t·∫°i ƒê∆°n.",
                explanation_vi: "C·∫•u tr√∫c: **Why + does + S + V nguy√™n m·∫´u + to V...?** **Nghƒ©a: T·∫°i sao c√¥ ·∫•y mu·ªën ƒë·∫øn c·ª≠a h√†ng b√°ch h√≥a?**",
                explanation_en: "Structure: **Why + does + S + V nguy√™n m·∫´u + to V...?**"
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["What", "does", "your sister", "look like?"],
                answer: "What does your sister look like?",
                hint: "C·ª•m t·ª´: 'look like' (tr√¥ng nh∆∞ th·∫ø n√†o).",
                explanation_vi: "C·∫•u tr√∫c h·ªèi ngo·∫°i h√¨nh: **What + does + S + look like?** **Nghƒ©a: Ch·ªã g√°i c·ªßa b·∫°n tr√¥ng nh∆∞ th·∫ø n√†o?**",
                explanation_en: "Question structure for appearance: **What + does + S + look like?**"
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["I", "live in", "an apartment", "with my parents."],
                answer: "I live in an apartment with my parents.",
                hint: "Gi·ªõi t·ª´ ch·ªâ n∆°i ·ªü: 'live in'.",
                explanation_vi: "**Live in** + Noun (s·ªëng trong m·ªôt n∆°i). **Nghƒ©a: T√¥i s·ªëng trong m·ªôt cƒÉn h·ªô v·ªõi b·ªë m·∫π.**",
                explanation_en: "**Live in** + Noun (live in a place)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Would you", "like", "some water,", "Minh?"],
                answer: "Would you like some water, Minh?",
                hint: "C·ª•m t·ª´: 'Would you like' (m·ªùi ai ƒë√≥).",
                explanation_vi: "**Would you like** + Noun (M·ªùi/ƒë·ªÅ ngh·ªã). **Nghƒ©a: Minh, b·∫°n c√≥ mu·ªën u·ªëng ch√∫t n∆∞·ªõc kh√¥ng?**",
                explanation_en: "**Would you like** + Noun (Offer/invitation)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["We", "must", "brush our teeth", "before", "going to bed."],
                answer: "We must brush our teeth before going to bed.",
                hint: "ƒê·ªông t·ª´ sau 'must' v√† sau 'before'.",
                explanation_vi: "Sau **must** l√† V nguy√™n m·∫´u; sau gi·ªõi t·ª´ **before** l√† V-ing. **Nghƒ©a: Ch√∫ng ta ph·∫£i ƒë√°nh rƒÉng tr∆∞·ªõc khi ƒëi ng·ªß.**",
                explanation_en: "After **must** is bare V; after the preposition **before** is V-ing."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Tourists", "can visit", "fishing villages", "in Phu Quoc."],
                answer: "Tourists can visit fishing villages in Phu Quoc.",
                hint: "ƒê·ªông t·ª´ khuy·∫øt thi·∫øu: 'can'.",
                explanation_vi: "Sau **can** (c√≥ th·ªÉ) l√† ƒë·ªông t·ª´ nguy√™n m·∫´u **visit**. **Nghƒ©a: Du kh√°ch c√≥ th·ªÉ gh√© thƒÉm c√°c l√†ng ch√†i ·ªü Ph√∫ Qu·ªëc.**",
                explanation_en: "After **can** is the bare verb **visit**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["There is", "a lake", "behind", "the hospital."],
                answer: "There is a lake behind the hospital.",
                hint: "C·∫•u tr√∫c: There is/are v√† gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠ 'behind'.",
                explanation_vi: "**There is** + Noun (c√≥ m·ªôt c√°i g√¨). **Behind** ch·ªâ v·ªã tr√≠. **Nghƒ©a: C√≥ m·ªôt c√°i h·ªì ph√≠a sau b·ªánh vi·ªán.**",
                explanation_en: "**There is** + Noun. **Behind** indicates position."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["He's", "fat", "with", "black eyes."],
                answer: "He's fat with black eyes.",
                hint: "M√¥ t·∫£ ngo·∫°i h√¨nh: 'with' ƒëi v·ªõi ƒë·∫∑c ƒëi·ªÉm b·ªô ph·∫≠n c∆° th·ªÉ.",
                explanation_vi: "C·∫•u tr√∫c: S + be + Adj + **with** + Noun. **Nghƒ©a: Anh ·∫•y m·∫≠p v·ªõi ƒë√¥i m·∫Øt ƒëen.**",
                explanation_en: "Structure: S + be + Adj + **with** + Noun (describing appearance)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["There's a lot", "of different food", "and we often eat", "vegetarian food."],
                answer: "There's a lot of different food and we often eat vegetarian food.",
                hint: "N·ªëi hai m·ªánh ƒë·ªÅ b·∫±ng 'and'.",
                explanation_vi: "M·ªánh ƒë·ªÅ 1: C√≥ nhi·ªÅu lo·∫°i th·ª©c ƒÉn kh√°c nhau. M·ªánh ƒë·ªÅ 2: Ch√∫ng t√¥i th∆∞·ªùng ƒÉn th·ª©c ƒÉn chay. N·ªëi b·∫±ng **and**. **Nghƒ©a: C√≥ nhi·ªÅu lo·∫°i th·ª©c ƒÉn kh√°c nhau v√† ch√∫ng t√¥i th∆∞·ªùng ƒÉn th·ª©c ƒÉn chay.**",
                explanation_en: "Clause 1: There's a lot of different food. Clause 2: We often eat vegetarian food. Joined by **and**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["You mustn't", "pick up flowers", "in the school", "garden."],
                answer: "You mustn't pick up flowers in the school garden.",
                hint: "ƒê·ªông t·ª´ khuy·∫øt thi·∫øu ch·ªâ s·ª± c·∫•m ƒëo√°n: 'mustn't'.",
                explanation_vi: "**Mustn't** + V nguy√™n m·∫´u (Kh√¥ng ƒë∆∞·ª£c l√†m g√¨). **Nghƒ©a: B·∫°n kh√¥ng ƒë∆∞·ª£c h√°i hoa trong v∆∞·ªùn tr∆∞·ªùng.**",
                explanation_en: "**Mustn't** + bare V (Prohibition)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["I think", "you should", "tidy your", "bedroom now."],
                answer: "I think you should tidy your bedroom now.",
                hint: "C·∫•u tr√∫c khuy√™n b·∫£o: 'should' + V nguy√™n m·∫´u.",
                explanation_vi: "**Should** + V nguy√™n m·∫´u (N√™n l√†m g√¨). **Nghƒ©a: T√¥i nghƒ© b√¢y gi·ªù b·∫°n n√™n d·ªçn d·∫πp ph√≤ng ng·ªß.**",
                explanation_en: "**Should** + bare V (Suggestion/advice)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["How about", "meeting", "in the canteen", "for some tea?"],
                answer: "How about meeting in the canteen for some tea?",
                hint: "C·ª•m t·ª´: 'How about' + V-ing.",
                explanation_vi: "**How about** + V-ing (ƒê·ªÅ xu·∫•t, r·ªß r√™). **Nghƒ©a: G·∫∑p nhau ·ªü cƒÉng tin u·ªëng tr√† nh√©?**",
                explanation_en: "**How about** + V-ing (Making a suggestion)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["I", "am not joining", "the competition."],
                answer: "I am not joining the competition.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn, ph·ªß ƒë·ªãnh.",
                explanation_vi: "S + **am not joining** (T√¥i kh√¥ng ƒëang/s·∫Ω tham gia). **Nghƒ©a: T√¥i s·∫Ω kh√¥ng tham gia cu·ªôc thi.**",
                explanation_en: "S + **am not joining** (Negative Present Continuous/Arrangement)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["Which character", "do you like", "the best", "in this story?"],
                answer: "Which character do you like the best in this story?",
                hint: "C·∫•u tr√∫c c√¢u h·ªèi Wh-question.",
                explanation_vi: "**Which character** (Nh√¢n v·∫≠t n√†o) + do/does + S + V? **Nghƒ©a: B·∫°n th√≠ch nh√¢n v·∫≠t n√†o nh·∫•t trong c√¢u chuy·ªán n√†y?**",
                explanation_en: "**Which character** + do/does + S + V?"
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["We", "are going", "to the art gallery", "now."],
                answer: "We are going to the art gallery now.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn, d·∫•u hi·ªáu 'now'.",
                explanation_vi: "S + **are going** (ƒëang ƒëi) + to + place. **Nghƒ©a: B√¢y gi·ªù ch√∫ng t√¥i ƒëang ƒëi ƒë·∫øn ph√≤ng tr∆∞ng b√†y ngh·ªá thu·∫≠t.**",
                explanation_en: "S + **are going** + to + place."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["You should", "eat", "vegetables and fruit", "every day."],
                answer: "You should eat vegetables and fruit every day.",
                hint: "C·∫•u tr√∫c khuy√™n b·∫£o: 'should'.",
                explanation_vi: "**Should** + V nguy√™n m·∫´u (N√™n ƒÉn). **Nghƒ©a: B·∫°n n√™n ƒÉn rau v√† tr√°i c√¢y m·ªói ng√†y.**",
                explanation_en: "**Should** + bare V (Should eat)."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["My grandmother", "is sitting", "on the armchair", "near the fireplace."],
                answer: "My grandmother is sitting on the armchair near the fireplace.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn v√† gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠.",
                explanation_vi: "S + **is sitting** (ƒëang ng·ªìi) + **on** (tr√™n) + **near** (g·∫ßn). **Nghƒ©a: B√† t√¥i ƒëang ng·ªìi tr√™n gh·∫ø b√†nh g·∫ßn l√≤ s∆∞·ªüi.**",
                explanation_en: "S + **is sitting** + **on** + **near**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["It takes me", "ten minutes", "to walk", "to school", "every morning."],
                answer: "It takes me ten minutes to walk to school every morning.",
                hint: "C·∫•u tr√∫c: It takes sb time to V.",
                explanation_vi: "**It takes me ten minutes to walk** (M·∫•t 10 ph√∫t ƒë·ªÉ ƒëi b·ªô). **Nghƒ©a: M·∫•t m∆∞·ªùi ph√∫t ƒë·ªÉ t√¥i ƒëi b·ªô ƒë·∫øn tr∆∞·ªùng m·ªói s√°ng.**",
                explanation_en: "Structure: **It takes sb time to V**."
            },
            {
                type: 'rearrange', title: 'S·∫Øp x·∫øp c√¢u:',
                words: ["She is", "watching", "her favourite cartoon", "at present."],
                answer: "She is watching her favourite cartoon at present.",
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn, d·∫•u hi·ªáu 'at present'.",
                explanation_vi: "S + **is watching** (ƒëang xem). **Nghƒ©a: Hi·ªán t·∫°i c√¥ ·∫•y ƒëang xem b·ªô phim ho·∫°t h√¨nh y√™u th√≠ch c·ªßa m√¨nh.**",
                explanation_en: "S + **is watching** (Present Continuous)."
            },

            // --- PART 2: ƒêI·ªÄN T·ª™ (FILL-IN-THE-BLANK) ---
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "He often _____ volleyball after school.",
                answer: "plays", multiple_answers: ["plays"],
                hint: "Hi·ªán t·∫°i ƒê∆°n, ng√¥i th·ª© ba s·ªë √≠t.",
                explanation_vi: "Ch·ªß ng·ªØ 'He' (s·ªë √≠t) $\rightarrow$ V + 's'/'es'. **Nghƒ©a c·ªßa c√¢u: Anh ·∫•y th∆∞·ªùng ch∆°i b√≥ng chuy·ªÅn sau gi·ªù h·ªçc.**",
                explanation_en: "Subject 'He' (singular) $\rightarrow$ V + 's'/'es'."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "The garden is _____ the house.",
                answer: "behind", multiple_answers: ["behind", "in front of", "near", "next to"],
                hint: "Gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠.",
                explanation_vi: "Gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠ ƒë·ªÅu h·ª£p l√Ω v·ªÅ m·∫∑t ng·ªØ ph√°p. **Nghƒ©a c·ªßa c√¢u: Khu v∆∞·ªùn ·ªü ph√≠a sau ng√¥i nh√†.**",
                explanation_en: "A preposition of place is needed here. **behind** is a plausible answer."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "She lives _____ a small house on King Street.",
                answer: "in", multiple_answers: ["in"],
                hint: "Gi·ªõi t·ª´ ƒëi v·ªõi n∆°i ·ªü (trong).",
                explanation_vi: "**In** (trong) d√πng v·ªõi 'a small house'. **Nghƒ©a c·ªßa c√¢u: C√¥ ·∫•y s·ªëng trong m·ªôt ng√¥i nh√† nh·ªè tr√™n ph·ªë King.**",
                explanation_en: "**In** is used for living inside a house."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "It's _____ in summer.",
                answer: "hot", multiple_answers: ["hot", "sunny"],
                hint: "T√≠nh t·ª´ m√¥ t·∫£ th·ªùi ti·∫øt m√πa h√®.",
                explanation_vi: "Th·ªùi ti·∫øt th∆∞·ªùng **hot** (n√≥ng) ho·∫∑c **sunny** (n·∫Øng) v√†o m√πa h√®. **Nghƒ©a c·ªßa c√¢u: Tr·ªùi n√≥ng v√†o m√πa h√®.**",
                explanation_en: "The weather is usually **hot** or **sunny** in summer."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Traveling _____ is more interesting.",
                answer: "alone", multiple_answers: ["alone", "abroad", "cheaply"],
                hint: "Tr·∫°ng t·ª´ ch·ªâ c√°ch th·ª©c. (V√≠ d·ª•: m·ªôt m√¨nh)",
                explanation_vi: "T·ª´ c·∫ßn ƒëi·ªÅn l√† tr·∫°ng t·ª´. **Nghƒ©a c·ªßa c√¢u: Du l·ªãch m·ªôt m√¨nh th√¨ th√∫ v·ªã h∆°n.**",
                explanation_en: "The missing word is an adverb, such as **alone** or **abroad**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "My mother helps me with my History _____.",
                answer: "homework", multiple_answers: ["homework", "project"],
                hint: "C·ª•m danh t·ª´: B√†i t·∫≠p v·ªÅ nh√†.",
                explanation_vi: "**History homework** (b√†i t·∫≠p v·ªÅ nh√† L·ªãch s·ª≠) ho·∫∑c **project** (d·ª± √°n). **Nghƒ©a c·ªßa c√¢u: M·∫π t√¥i gi√∫p t√¥i l√†m b√†i t·∫≠p L·ªãch s·ª≠.**",
                explanation_en: "**History homework** or **project** is the missing noun."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Thank you very much _____ your letter.",
                answer: "for", multiple_answers: ["for"],
                hint: "Gi·ªõi t·ª´ ƒëi v·ªõi 'thank you'.",
                explanation_vi: "**Thank you for** (C·∫£m ∆°n v√¨). **Nghƒ©a c·ªßa c√¢u: C·∫£m ∆°n b·∫°n r·∫•t nhi·ªÅu v√¨ l√° th∆∞ c·ªßa b·∫°n.**",
                explanation_en: "**Thank you for** is the correct prepositional phrase."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "The students _____ doing morning exercises.",
                answer: "are", multiple_answers: ["are"],
                hint: "Hi·ªán t·∫°i Ti·∫øp di·ªÖn, ƒë·ªông t·ª´ 'to be' s·ªë nhi·ªÅu.",
                explanation_vi: "Ch·ªß ng·ªØ 'The students' (s·ªë nhi·ªÅu) $\rightarrow$ **are**. **Nghƒ©a c·ªßa c√¢u: C√°c h·ªçc sinh ƒëang t·∫≠p th·ªÉ d·ª•c bu·ªïi s√°ng.**",
                explanation_en: "Plural subject $\rightarrow$ **are** (Present Continuous)."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Do you have any pictures _____ your bedroom?",
                answer: "in", multiple_answers: ["in", "on"],
                hint: "Gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠ (trong/tr√™n).",
                explanation_vi: "**In** your bedroom (trong ph√≤ng) ho·∫∑c **on** the wall (tr√™n t∆∞·ªùng). **Nghƒ©a c·ªßa c√¢u: B·∫°n c√≥ b·ª©c tranh n√†o trong ph√≤ng ng·ªß kh√¥ng?**",
                explanation_en: "**In** is the most common preposition here."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "They _____ their homework at the moment.",
                answer: "are doing", multiple_answers: ["are doing"],
                hint: "Hi·ªán t·∫°i Ti·∫øp di·ªÖn, d·∫•u hi·ªáu 'at the moment'.",
                explanation_vi: "S s·ªë nhi·ªÅu $\rightarrow$ **are doing**. **Nghƒ©a c·ªßa c√¢u: H·ªç ƒëang l√†m b√†i t·∫≠p v·ªÅ nh√† ngay l√∫c n√†y.**",
                explanation_en: "Plural subject $\rightarrow$ **are doing** (Present Continuous)."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "How about playing _____?",
                answer: "chess", multiple_answers: ["chess", "games", "football", "badminton"],
                hint: "Danh t·ª´ ch·ªâ tr√≤ ch∆°i/th·ªÉ thao.",
                explanation_vi: "T·ª´ c·∫ßn ƒëi·ªÅn l√† m·ªôt tr√≤ ch∆°i/th·ªÉ thao. **Nghƒ©a c·ªßa c√¢u: Ch∆°i c·ªù vua th√¨ sao?**",
                explanation_en: "The missing word is a game or sport (e.g., **chess**)."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "There aren't any pillows _____ the bed.",
                answer: "on", multiple_answers: ["on", "under"],
                hint: "Gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠ (tr√™n/d∆∞·ªõi).",
                explanation_vi: "**On** the bed (tr√™n gi∆∞·ªùng). **Nghƒ©a c·ªßa c√¢u: Kh√¥ng c√≥ c√°i g·ªëi n√†o tr√™n gi∆∞·ªùng.**",
                explanation_en: "**On** is the correct preposition of place."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Jane and her friend _____ walking to the supermarket near her house.",
                answer: "are", multiple_answers: ["are"],
                hint: "Hi·ªán t·∫°i Ti·∫øp di·ªÖn, ƒë·ªông t·ª´ 'to be' s·ªë nhi·ªÅu.",
                explanation_vi: "Ch·ªß ng·ªØ s·ªë nhi·ªÅu $\rightarrow$ **are**. **Nghƒ©a c·ªßa c√¢u: Jane v√† b·∫°n c√¥ ·∫•y ƒëang ƒëi b·ªô ƒë·∫øn si√™u th·ªã g·∫ßn nh√†.**",
                explanation_en: "Plural subject $\rightarrow$ **are** (Present Continuous)."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "The moon _____ around the Earth.",
                answer: "moves", multiple_answers: ["moves", "revolves"],
                hint: "Hi·ªán t·∫°i ƒê∆°n (s·ª± th·∫≠t hi·ªÉn nhi√™n), ng√¥i th·ª© ba s·ªë √≠t.",
                explanation_vi: "M·∫∑t trƒÉng (s·ªë √≠t) $\rightarrow$ **moves** / **revolves**. **Nghƒ©a c·ªßa c√¢u: M·∫∑t trƒÉng chuy·ªÉn ƒë·ªông quanh Tr√°i ƒê·∫•t.**",
                explanation_en: "Singular subject $\rightarrow$ V-s/es."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "What time does the boy _____?",
                answer: "wake up", multiple_answers: ["wake up", "get up"],
                hint: "ƒê·ªông t·ª´ sau 'does' (nguy√™n m·∫´u).",
                explanation_vi: "C·ª•m ƒë·ªông t·ª´: **wake up** (th·ª©c d·∫≠y) / **get up** (ng·ªß d·∫≠y). **Nghƒ©a c·ªßa c√¢u: C·∫≠u b√© th·ª©c d·∫≠y l√∫c m·∫•y gi·ªù?**",
                explanation_en: "The missing verb phrase is **wake up** / **get up**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "She _____ her homework.",
                answer: "does", multiple_answers: ["does", "finishes"],
                hint: "Hi·ªán t·∫°i ƒê∆°n (th√≥i quen), ng√¥i th·ª© ba s·ªë √≠t.",
                explanation_vi: "Ch·ªß ng·ªØ 'She' $\rightarrow$ **does**. **Nghƒ©a c·ªßa c√¢u: C√¥ ·∫•y l√†m b√†i t·∫≠p v·ªÅ nh√†.**",
                explanation_en: "Singular subject 'She' $\rightarrow$ **does**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "She is playing the _____ at present.",
                answer: "piano", multiple_answers: ["piano", "guitar", "violin"],
                hint: "T√™n m·ªôt lo·∫°i nh·∫°c c·ª•.",
                explanation_vi: "T√™n m·ªôt lo·∫°i nh·∫°c c·ª• ƒëi v·ªõi 'the' $\rightarrow$ **piano**. **Nghƒ©a c·ªßa c√¢u: Hi·ªán t·∫°i c√¥ ·∫•y ƒëang ch∆°i ƒë√†n piano.**",
                explanation_en: "The name of a musical instrument."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Don't _____ the tree!",
                answer: "climb", multiple_answers: ["climb", "cut", "touch"],
                hint: "ƒê·ªông t·ª´ nguy√™n m·∫´u sau 'Don't'.",
                explanation_vi: "**Don't climb** (ƒê·ª´ng tr√®o) l√† m·ªôt l·ªùi c·∫•m ph·ªï bi·∫øn. **Nghƒ©a c·ªßa c√¢u: ƒê·ª´ng tr√®o c√¢y!**",
                explanation_en: "**Don't** + bare V."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Is there a police _____ near the bank?",
                answer: "station", multiple_answers: ["station"],
                hint: "C·ª•m danh t·ª´: ƒê·ªìn c·∫£nh s√°t.",
                explanation_vi: "**Police station** (ƒë·ªìn c·∫£nh s√°t). **Nghƒ©a c·ªßa c√¢u: C√≥ ƒë·ªìn c·∫£nh s√°t n√†o g·∫ßn ng√¢n h√†ng kh√¥ng?**",
                explanation_en: "**Police station** is the correct compound noun."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "My brother likes playing _____ after school.",
                answer: "football", multiple_answers: ["football", "games", "basketball", "volleyball"],
                hint: "Danh t·ª´ ch·ªâ tr√≤ ch∆°i/th·ªÉ thao.",
                explanation_vi: "M√¥n th·ªÉ thao: **football**. **Nghƒ©a c·ªßa c√¢u: Anh trai t√¥i th√≠ch ch∆°i b√≥ng ƒë√° sau gi·ªù h·ªçc.**",
                explanation_en: "The missing word is a sport (e.g., **football**)."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Take the second turning _____ the left.",
                answer: "on", multiple_answers: ["on"],
                hint: "C·ª•m t·ª´ ch·ªâ h∆∞·ªõng r·∫Ω.",
                explanation_vi: "**On** the left (·ªü b√™n tr√°i). **Nghƒ©a c·ªßa c√¢u: R·∫Ω ·ªü ng√£ r·∫Ω th·ª© hai v·ªÅ ph√≠a b√™n tr√°i.**",
                explanation_en: "**On** the left is the correct phrase."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "She _____ forgets my birthday.",
                answer: "never", multiple_answers: ["never", "rarely"],
                hint: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t (nghƒ©a ph·ªß ƒë·ªãnh).",
                explanation_vi: "**Never** (kh√¥ng bao gi·ªù) ho·∫∑c **rarely** (hi·∫øm khi) ƒë·ªÅu c√≥ nghƒ©a ph·ªß ƒë·ªãnh. **Nghƒ©a c·ªßa c√¢u: C√¥ ·∫•y kh√¥ng bao gi·ªù qu√™n sinh nh·∫≠t t√¥i.**",
                explanation_en: "An adverb of frequency with a negative meaning (e.g., **never**)."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Let me _____ a try.",
                answer: "have", multiple_answers: ["have", "take"],
                hint: "C·ª•m ƒë·ªông t·ª´: th·ª≠.",
                explanation_vi: "**Have/take** a try (th·ª≠ m·ªôt l·∫ßn). **Nghƒ©a c·ªßa c√¢u: H√£y ƒë·ªÉ t√¥i th·ª≠ m·ªôt l·∫ßn.**",
                explanation_en: "**Have/take** a try is the correct idiom."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "This puzzle is _____ than I think.",
                answer: "harder", multiple_answers: ["harder", "easier"],
                hint: "So s√°nh h∆°n: Adj-er.",
                explanation_vi: "**Harder** (kh√≥ h∆°n) ho·∫∑c **easier** (d·ªÖ h∆°n) ƒë·ªÅu ƒë√∫ng ng·ªØ ph√°p. **Nghƒ©a c·ªßa c√¢u: C√¢u ƒë·ªë n√†y kh√≥ h∆°n t√¥i nghƒ©.**",
                explanation_en: "Comparative adjective: **harder** or **easier**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "What do you know about Da Nang _____?",
                answer: "City", multiple_answers: ["City"],
                hint: "T√™n ƒë·ªãa danh.",
                explanation_vi: "**Da Nang City** (Th√†nh ph·ªë ƒê√† N·∫µng). **Nghƒ©a c·ªßa c√¢u: B·∫°n bi·∫øt g√¨ v·ªÅ th√†nh ph·ªë ƒê√† N·∫µng?**",
                explanation_en: "**Da Nang City** is the correct noun."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Give the correct form of the word WORK in the following sentence: My mother _____ (WORK) eight hours a day.",
                answer: "works", multiple_answers: ["works"],
                hint: "Hi·ªán t·∫°i ƒê∆°n, ng√¥i th·ª© ba s·ªë √≠t.",
                explanation_vi: "Ch·ªß ng·ªØ 'My mother' (s·ªë √≠t) $\rightarrow$ **works**. **Nghƒ©a c·ªßa c√¢u: M·∫π t√¥i l√†m vi·ªác t√°m gi·ªù m·ªôt ng√†y.**",
                explanation_en: "Singular subject 'My mother' $\rightarrow$ **works**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Give the correct form of the word STUDY in the following sentence: She is _____ (STUDY) English at the moment.",
                answer: "studying", multiple_answers: ["studying"],
                hint: "Hi·ªán t·∫°i Ti·∫øp di·ªÖn: be + V-ing.",
                explanation_vi: "C·∫•u tr√∫c Hi·ªán t·∫°i Ti·∫øp di·ªÖn: is + **studying**. **Nghƒ©a c·ªßa c√¢u: C√¥ ·∫•y ƒëang h·ªçc ti·∫øng Anh ngay l√∫c n√†y.**",
                explanation_en: "Present Continuous structure: is + **studying**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Thirty plus twenty makes _____.",
                answer: "fifty", multiple_answers: ["fifty"],
                hint: "Ph√©p c·ªông: 30 + 20.",
                explanation_vi: "30 + 20 = **50**. **Nghƒ©a c·ªßa c√¢u: Ba m∆∞∆°i c·ªông hai m∆∞∆°i l√† nƒÉm m∆∞∆°i.**",
                explanation_en: "30 + 20 = **fifty**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Mountains are higher _____ hills.",
                answer: "than", multiple_answers: ["than"],
                hint: "So s√°nh h∆°n.",
                explanation_vi: "C·∫•u tr√∫c so s√°nh h∆°n: higher **than**. **Nghƒ©a c·ªßa c√¢u: N√∫i cao h∆°n ƒë·ªìi.**",
                explanation_en: "Comparative structure: higher **than**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Eighteen divided by two makes _____.",
                answer: "nine", multiple_answers: ["nine"],
                hint: "Ph√©p chia: 18 / 2.",
                explanation_vi: "18 chia cho 2 b·∫±ng **9**. **Nghƒ©a c·ªßa c√¢u: M∆∞·ªùi t√°m chia hai l√† ch√≠n.**",
                explanation_en: "18 divided by 2 equals **nine**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Can you tell us the way _____ the bus stop?",
                answer: "to", multiple_answers: ["to"],
                hint: "Ch·ªâ ƒë∆∞·ªùng: the way to.",
                explanation_vi: "C·ª•m t·ª´: the way **to** (ƒë∆∞·ªùng ƒë·∫øn). **Nghƒ©a c·ªßa c√¢u: B·∫°n c√≥ th·ªÉ ch·ªâ cho ch√∫ng t√¥i ƒë∆∞·ªùng ƒë·∫øn tr·∫°m xe bu√Ωt ƒë∆∞·ª£c kh√¥ng?**",
                explanation_en: "The phrase: the way **to**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "The train is moving _____ quickly.",
                answer: "very", multiple_answers: ["very", "too", "so"],
                hint: "Tr·∫°ng t·ª´ b·ªï nghƒ©a cho 'quickly'.",
                explanation_vi: "S·ª≠ d·ª•ng **very/too/so** ƒë·ªÉ b·ªï nghƒ©a cho tr·∫°ng t·ª´ 'quickly'. **Nghƒ©a c·ªßa c√¢u: T√†u h·ªèa ƒëang di chuy·ªÉn r·∫•t nhanh.**",
                explanation_en: "Use **very/too/so** to modify the adverb 'quickly'."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "After that, I have _____ and then clean my house.",
                answer: "lunch", multiple_answers: ["lunch", "dinner", "breakfast", "a shower"],
                hint: "Ho·∫°t ƒë·ªông h√†ng ng√†y: v√≠ d·ª• ƒÉn tr∆∞a.",
                explanation_vi: "Ho·∫°t ƒë·ªông h√†ng ng√†y: **lunch** (ƒÉn tr∆∞a), **dinner** (ƒÉn t·ªëi) ƒë·ªÅu h·ª£p l√Ω. **Nghƒ©a c·ªßa c√¢u: Sau ƒë√≥, t√¥i ƒÉn tr∆∞a v√† sau ƒë√≥ d·ªçn d·∫πp nh√†.**",
                explanation_en: "Daily activity, e.g., **lunch** or **dinner**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "The dishwasher of my family is very _____",
                answer: "useful", multiple_answers: ["useful", "good", "expensive"],
                hint: "T√≠nh t·ª´ m√¥ t·∫£ m√°y r·ª≠a ch√©n.",
                explanation_vi: "M√°y r·ª≠a ch√©n th∆∞·ªùng ƒë∆∞·ª£c m√¥ t·∫£ l√† **useful** (h·ªØu √≠ch). **Nghƒ©a c·ªßa c√¢u: M√°y r·ª≠a ch√©n c·ªßa gia ƒë√¨nh t√¥i r·∫•t h·ªØu √≠ch.**",
                explanation_en: "An adjective describing the dishwasher, e.g., **useful**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "I _____ how to ride a horse.",
                answer: "know", multiple_answers: ["know", "don't know"],
                hint: "ƒê·ªông t·ª´: bi·∫øt/kh√¥ng bi·∫øt.",
                explanation_vi: "S·ª≠ d·ª•ng **know** (bi·∫øt) ho·∫∑c **don't know** (kh√¥ng bi·∫øt). **Nghƒ©a c·ªßa c√¢u: T√¥i bi·∫øt c√°ch c∆∞·ª°i ng·ª±a.**",
                explanation_en: "The verb **know** or **don't know**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "My cousin is the best football player in his _____.",
                answer: "team", multiple_answers: ["team", "class", "school"],
                hint: "Danh t·ª´ ch·ªâ nh√≥m/ƒë·ªôi.",
                explanation_vi: "C·ª•m t·ª´: in his **team** (trong ƒë·ªôi c·ªßa anh ·∫•y). **Nghƒ©a c·ªßa c√¢u: Anh h·ªç t√¥i l√† c·∫ßu th·ªß b√≥ng ƒë√° gi·ªèi nh·∫•t trong ƒë·ªôi.**",
                explanation_en: "The missing noun is a group, e.g., **team**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "He goes to the _____ every Saturday.",
                answer: "gym", multiple_answers: ["gym", "market", "cinema", "park"],
                hint: "ƒê·ªãa ƒëi·ªÉm th∆∞·ªùng ƒë·∫øn cu·ªëi tu·∫ßn.",
                explanation_vi: "ƒê·ªãa ƒëi·ªÉm th∆∞·ªùng ƒë·∫øn v√†o cu·ªëi tu·∫ßn. **Nghƒ©a c·ªßa c√¢u: Anh ·∫•y ƒë·∫øn ph√≤ng t·∫≠p gym m·ªói th·ª© B·∫£y.**",
                explanation_en: "A place people usually go on weekends."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Vietnamese use _____ to eat.",
                answer: "chopsticks", multiple_answers: ["chopsticks", "spoon"],
                hint: "D·ª•ng c·ª• ƒÉn u·ªëng truy·ªÅn th·ªëng.",
                explanation_vi: "Ng∆∞·ªùi Vi·ªát Nam th∆∞·ªùng d√πng **chopsticks** (ƒë≈©a) ƒë·ªÉ ƒÉn. **Nghƒ©a c·ªßa c√¢u: Ng∆∞·ªùi Vi·ªát Nam d√πng ƒë≈©a ƒë·ªÉ ƒÉn.**",
                explanation_en: "Traditional Vietnamese eating utensil: **chopsticks**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "He's listening to music at the _____.",
                answer: "moment", multiple_answers: ["moment"],
                hint: "D·∫•u hi·ªáu th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn: at the...",
                explanation_vi: "C·ª•m t·ª´: at the **moment** (ngay l√∫c n√†y). **Nghƒ©a c·ªßa c√¢u: Anh ·∫•y ƒëang nghe nh·∫°c ngay l√∫c n√†y.**",
                explanation_en: "The phrase: at the **moment**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "He must go to the department store at 5 _____.",
                answer: "p.m.", multiple_answers: ["p.m.", "pm", "a.m.", "am"],
                explanation_vi: "Th·ªùi gian: **p.m.** ho·∫∑c **a.m.** **Nghƒ©a c·ªßa c√¢u: Anh ·∫•y ph·∫£i ƒë·∫øn c·ª≠a h√†ng b√°ch h√≥a l√∫c 5 gi·ªù chi·ªÅu.**",
                explanation_en: "Time: **p.m.** or **a.m.**"
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "You _____ eat in class.",
                answer: "mustn't", multiple_answers: ["mustn't", "shouldn't", "can't"],
                hint: "ƒê·ªông t·ª´ khuy·∫øt thi·∫øu: c·∫•m/kh√¥ng n√™n.",
                explanation_vi: "**Mustn't** (c·∫•m) ho·∫∑c **shouldn't** (kh√¥ng n√™n). **Nghƒ©a c·ªßa c√¢u: B·∫°n kh√¥ng ƒë∆∞·ª£c ƒÉn trong l·ªõp.**",
                explanation_en: "Modal verb for prohibition or advice: **mustn't** or **shouldn't**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Keep quiet! She _____.",
                answer: "is sleeping", multiple_answers: ["is sleeping"],
                hint: "Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn, h√†nh ƒë·ªông ƒëang x·∫£y ra.",
                explanation_vi: "D·∫•u hi·ªáu 'Keep quiet!' d√πng Hi·ªán t·∫°i Ti·∫øp di·ªÖn: **is sleeping**. **Nghƒ©a c·ªßa c√¢u: Gi·ªØ y√™n l·∫∑ng! C√¥ ·∫•y ƒëang ng·ªß.**",
                explanation_en: "The cue 'Keep quiet!' requires Present Continuous: **is sleeping**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "I have new books, and we have new _____ to study.",
                answer: "things", multiple_answers: ["things", "subjects"],
                hint: "Danh t·ª´ s·ªë nhi·ªÅu ch·ªâ v·∫≠t/m√¥n h·ªçc.",
                explanation_vi: "Danh t·ª´ s·ªë nhi·ªÅu: **things** (th·ª©/v·∫≠t) ho·∫∑c **subjects** (m√¥n h·ªçc). **Nghƒ©a c·ªßa c√¢u: T√¥i c√≥ s√°ch m·ªõi, v√† ch√∫ng t√¥i c√≥ nh·ªØng th·ª© m·ªõi ƒë·ªÉ h·ªçc.**",
                explanation_en: "Plural noun, e.g., **things** or **subjects**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "Fifty divided by ten makes _____.",
                answer: "five", multiple_answers: ["five"],
                hint: "Ph√©p chia: 50 / 10.",
                explanation_vi: "50 chia cho 10 b·∫±ng **5**. **Nghƒ©a c·ªßa c√¢u: NƒÉm m∆∞∆°i chia m∆∞·ªùi b·∫±ng nƒÉm.**",
                explanation_en: "50 divided by 10 equals **five**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "There are any flowers in the living _____, Anna?",
                answer: "room", multiple_answers: ["room"],
                hint: "C·ª•m danh t·ª´: ph√≤ng kh√°ch.",
                explanation_vi: "**Living room** (ph√≤ng kh√°ch). **Nghƒ©a c·ªßa c√¢u: C√≥ b·∫•t k·ª≥ b√¥ng hoa n√†o trong ph√≤ng kh√°ch kh√¥ng, Anna?**",
                explanation_en: "**Living room** is the correct compound noun."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "It's quiet at _____.",
                answer: "night", multiple_answers: ["night"],
                hint: "C·ª•m t·ª´ ch·ªâ th·ªùi gian: v√†o ban ƒë√™m.",
                explanation_vi: "C·ª•m t·ª´: at **night** (v√†o ban ƒë√™m). **Nghƒ©a c·ªßa c√¢u: Tr·ªùi y√™n tƒ©nh v√†o ban ƒë√™m.**",
                explanation_en: "The phrase: at **night**."
            },
            {
                type: 'fill', title: 'ƒêi·ªÅn t·ª´:',
                text: "The opposite of RIGHT is _____.",
                answer: "left", multiple_answers: ["left", "wrong"],
                hint: "T·ª´ tr√°i nghƒ©a (v·ªã tr√≠/ƒë√∫ng-sai).",
                explanation_vi: "Tr√°i nghƒ©a c·ªßa 'right' (ph·∫£i) l√† **left** (tr√°i), ho·∫∑c 'right' (ƒë√∫ng) l√† **wrong** (sai). **Nghƒ©a c·ªßa c√¢u: T·ª´ tr√°i nghƒ©a v·ªõi RIGHT (ph·∫£i) l√† LEFT (tr√°i).**",
                explanation_en: "The opposite of 'right' is **left** or **wrong**."
            },

            // --- PART 3: C√ÇU H·ªéI L·ª∞A CH·ªåN (MULTIPLE CHOICE) ---
            {
                type: 'mc', title: 'Ph√°t √¢m kh√°c:',
                question: "Find the word which has a different sound in the underlined part: $\\text{h}$",
                options: ["hour", "honey", "hotel", "hard"],
                correct: "hour",
                hint: "Ch√∫ √Ω √¢m c√¢m.",
                explanation_vi: "T·ª´ **hour** c√≥ 'h' c√¢m (/Ààa ä…ôr/). C√°c t·ª´ c√≤n l·∫°i c√≥ √¢m 'h' h·ªØu thanh (/h/). **Nghƒ©a c·ªßa c√¢u: T√¨m t·ª´ c√≥ √¢m 'h' kh√°c bi·ªát: hour.**",
                explanation_en: "The letter 'h' in **hour** is silent (//Ààa ä…ôr/). The other words have the /h/ sound."
            },
            {
                type: 'mc', title: 'So s√°nh h∆°n:',
                question: "Is the new school _____ than the old one?",
                options: ["bigger", "big", "biger", "more big"],
                correct: "bigger",
                hint: "So s√°nh h∆°n v·ªõi t√≠nh t·ª´ ng·∫Øn, ph·∫£i g·∫•p ƒë√¥i ph·ª• √¢m cu·ªëi.",
                explanation_vi: "T√≠nh t·ª´ ng·∫Øn 'big' d√πng so s√°nh h∆°n l√† **bigger** (g·∫•p ƒë√¥i ph·ª• √¢m cu·ªëi 'g'). **Nghƒ©a c·ªßa c√¢u: Ng√¥i tr∆∞·ªùng m·ªõi c√≥ l·ªõn h∆°n ng√¥i tr∆∞·ªùng c≈© kh√¥ng?**",
                explanation_en: "The comparative form of the short adjective 'big' is **bigger** (doubling the consonant 'g')."
            },
            {
                type: 'mc', title: 'Gi·ªõi t·ª´ ch·ªâ ƒë·ªãa ƒëi·ªÉm:',
                question: "Choose the correct sentence.",
                options: [
                    "My house is from 255 Tran Phu street.",
                    "My house is at 255 Tran Phu street.",
                    "My house is on 255 Tran Phu street.",
                    "My house is in 255 Tran Phu street."
                ],
                correct: "My house is at 255 Tran Phu street.",
                hint: "Gi·ªõi t·ª´ d√πng cho ƒë·ªãa ch·ªâ c·ª• th·ªÉ.",
                explanation_vi: "Gi·ªõi t·ª´ **at** ƒë∆∞·ª£c d√πng cho ƒë·ªãa ch·ªâ nh√†/s·ªë nh√† c·ª• th·ªÉ. **Nghƒ©a c·ªßa c√¢u: Nh√† t√¥i ·ªü s·ªë 255 ƒë∆∞·ªùng Tr·∫ßn Ph√∫.**",
                explanation_en: "The preposition **at** is used for a specific address/house number."
            },
            {
                type: 'mc', title: 'ƒê·ªông t·ª´ ph√π h·ª£p:',
                question: "They _____ karate very well.",
                options: ["study", "do", "play", "have"],
                correct: "do",
                hint: "ƒê·ªông t·ª´ ƒëi v·ªõi m√¥n th·ªÉ thao/v√µ thu·∫≠t.",
                explanation_vi: "ƒê·ªông t·ª´ **do** ƒë∆∞·ª£c d√πng v·ªõi m√¥n v√µ thu·∫≠t/th·ªÉ thao c√° nh√¢n nh∆∞ 'karate'. **Nghƒ©a c·ªßa c√¢u: H·ªç t·∫≠p karate r·∫•t gi·ªèi.**",
                explanation_en: "The verb **do** is used with martial arts or individual sports like 'karate'."
            },
            {
                type: 'mc', title: 'To√°n h·ªçc:',
                question: "10 centimetres = _____",
                options: ["10 kilometres", "100 millimetres", "1 metre", "10 decimetres"],
                correct: "100 millimetres",
                hint: "Quy ƒë·ªïi ƒë∆°n v·ªã ƒëo chi·ªÅu d√†i.",
                explanation_vi: "1 centimetre = 10 milimetres, n√™n 10cm = $10 \\times 10 = 100$ milimetres. **Nghƒ©a c·ªßa c√¢u: 10 centimet b·∫±ng 100 milimet.**",
                explanation_en: "1 centimetre = 10 milimetres, so 10cm = 100 milimetres."
            },
            {
                type: 'mc', title: 'ƒê·ªãa ƒëi·ªÉm:',
                question: "Where can we get a plaster?",
                options: ["Beauty salon", "Hairdresser's", "Pharmacy", "Bus stop"],
                correct: "Pharmacy",
                hint: "N∆°i b√°n thu·ªëc v√† d·ª•ng c·ª• y t·∫ø.",
                explanation_vi: "B·∫°n c√≥ th·ªÉ mua bƒÉng d√°n (plaster) t·∫°i **Pharmacy** (hi·ªáu thu·ªëc). **Nghƒ©a c·ªßa c√¢u: Ch√∫ng ta c√≥ th·ªÉ mua bƒÉng d√°n ·ªü ƒë√¢u? - ·ªû hi·ªáu thu·ªëc.**",
                explanation_en: "You can buy a plaster at a **Pharmacy**."
            },
            {
                type: 'mc', title: 'Ph√°t √¢m kh√°c:',
                question: "Find the word which has a different sound in the underlined part: $\\text{u}$",
                options: ["Sunday", "true", "uncle", "luck"],
                correct: "true",
                hint: "Ch√∫ √Ω √¢m 'u' d√†i.",
                explanation_vi: "**true** ƒë·ªçc l√† /uÀê/. **Sunday, uncle, luck** ƒë·ªÅu ƒë·ªçc l√† / å/. **Nghƒ©a c·ªßa c√¢u: T√¨m t·ª´ c√≥ √¢m 'u' kh√°c bi·ªát: true.**",
                explanation_en: "**true** is pronounced /uÀê/. The others are pronounced / å/."
            },
            {
                type: 'mc', title: 'Th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn:',
                question: "Don't make noise! Anna _____",
                options: ["sleeps", "are sleeping", "slept", "is sleeping"],
                correct: "is sleeping",
                hint: "C·ª•m t·ª´ 'Don't make noise!' l√† d·∫•u hi·ªáu c·ªßa th√¨ n√†o?",
                explanation_vi: "D·∫•u hi·ªáu 'Don't make noise!' (ƒê·ª´ng l√†m ·ªìn!) y√™u c·∫ßu d√πng Hi·ªán t·∫°i Ti·∫øp di·ªÖn: **is sleeping**. **Nghƒ©a c·ªßa c√¢u: ƒê·ª´ng l√†m ·ªìn! Anna ƒëang ng·ªß.**",
                explanation_en: "The phrase 'Don't make noise!' indicates the Present Continuous tense: **is sleeping**."
            },
            {
                type: 'mc', title: 'C·ª•m t·ª´:',
                question: "What does she do in her _____ time?",
                options: ["free", "do", "play", "is playing"],
                correct: "free",
                hint: "Danh t·ª´ 'time' c·∫ßn t√≠nh t·ª´ ƒëi k√®m.",
                explanation_vi: "C·ª•m t·ª´ ƒë√∫ng l√† **free time** (th·ªùi gian r·∫£nh). **Nghƒ©a c·ªßa c√¢u: C√¥ ·∫•y l√†m g√¨ v√†o th·ªùi gian r·∫£nh?**",
                explanation_en: "The correct phrase is **free time**."
            },
            {
                type: 'mc', title: 'Th√¨ Hi·ªán t·∫°i ƒê∆°n:',
                question: "She _____ Music on Wednesdays and Fridays.",
                options: ["have", "is having", "has", "having"],
                correct: "has",
                hint: "Ng√¥i th·ª© ba s·ªë √≠t trong Hi·ªán t·∫°i ƒê∆°n.",
                explanation_vi: "L·ªãch h·ªçc (th√≥i quen) d√πng Hi·ªán t·∫°i ƒê∆°n. Ch·ªß ng·ªØ 'She' $\rightarrow$ **has**. **Nghƒ©a c·ªßa c√¢u: C√¥ ·∫•y h·ªçc Nh·∫°c v√†o th·ª© T∆∞ v√† th·ª© S√°u.**",
                explanation_en: "Schedule (habit) uses Present Simple. Subject 'She' $\rightarrow$ **has**."
            },
            {
                type: 'mc', title: 'Ph√°t √¢m kh√°c:',
                question: "Choose the word whose underlined part is pronounced differently from the others: $\\text{-s}$",
                options: ["books", "lights", "pencils", "lamps"],
                correct: "pencils",
                hint: "Quy t·∫Øc ph√°t √¢m ƒëu√¥i -s.",
                explanation_vi: "ƒêu√¥i **-s** trong **pencils** ƒë·ªçc l√† /z/. C√°c t·ª´ c√≤n l·∫°i ƒë·ªçc l√† /s/. **Nghƒ©a c·ªßa c√¢u: T√¨m t·ª´ c√≥ ph√°t √¢m ƒëu√¥i -s kh√°c bi·ªát: pencils.**",
                explanation_en: "The ending **-s** in **pencils** is pronounced /z/. The others are pronounced /s/."
            },
            {
                type: 'mc', title: 'So s√°nh h∆°n:',
                question: "Jane is _____ than her sister.",
                options: ["beautifuler", "more beautiful", "beautifull", "more beautifuller"],
                correct: "more beautiful",
                hint: "So s√°nh h∆°n v·ªõi t√≠nh t·ª´ d√†i.",
                explanation_vi: "T√≠nh t·ª´ d√†i 'beautiful' d√πng so s√°nh h∆°n l√† **more beautiful**. **Nghƒ©a c·ªßa c√¢u: Jane ƒë·∫πp h∆°n ch·ªã g√°i c√¥ ·∫•y.**",
                explanation_en: "The comparative form of the long adjective 'beautiful' is **more beautiful**."
            },
            {
                type: 'mc', title: 'C√¢u ph·ªß ƒë·ªãnh Hi·ªán t·∫°i ƒê∆°n:',
                question: "Choose the correct sentence.",
                options: [
                    "I don't have a television in my bedroom.",
                    "I not have a television in my bedroom.",
                    "I don't has television in my bedroom.",
                    "I has a television in my bedroom."
                ],
                correct: "I don't have a television in my bedroom.",
                hint: "Tr·ª£ ƒë·ªông t·ª´ v√† ƒë·ªông t·ª´ ch√≠nh trong c√¢u ph·ªß ƒë·ªãnh.",
                explanation_vi: "C√¢u ph·ªß ƒë·ªãnh Hi·ªán t·∫°i ƒê∆°n: S + **don't/doesn't + V nguy√™n m·∫´u**. 'I' ƒëi v·ªõi **don't have**. **Nghƒ©a c·ªßa c√¢u: T√¥i kh√¥ng c√≥ TV trong ph√≤ng ng·ªß.**",
                explanation_en: "Negative Present Simple: S + **don't/doesn't + bare V**. 'I' uses **don't have**."
            },
            {
                type: 'mc', title: 'ƒê·ªãa l√Ω Vi·ªát Nam:',
                question: "Which province/city is in the Central Vietnam?",
                options: ["Vinh Phuc", "Kien Giang", "Quang Ninh", "Binh Dinh"],
                correct: "Binh Dinh",
                hint: "T√¨m t·ªânh thu·ªôc mi·ªÅn Trung.",
                explanation_vi: "**B√¨nh ƒê·ªãnh** l√† m·ªôt t·ªânh thu·ªôc mi·ªÅn Trung Vi·ªát Nam. **Nghƒ©a c·ªßa c√¢u: T·ªânh/th√†nh ph·ªë n√†o ·ªü mi·ªÅn Trung Vi·ªát Nam? - B√¨nh ƒê·ªãnh.**",
                explanation_en: "**Binh Dinh** is a province located in Central Vietnam."
            },
            {
                type: 'mc', title: 'Tr·ªçng √¢m kh√°c:',
                question: "Find the word that differs from the rest in the position of the main stress.",
                options: ["careful", "children", "suburb", "activity"],
                correct: "activity",
                hint: "T√¨m t·ª´ c√≥ tr·ªçng √¢m kh√°c bi·ªát.",
                explanation_vi: "**careful** (√¢m 1), **children** (√¢m 1), **suburb** (√¢m 1). **activity** (√¢m 2). **Nghƒ©a c·ªßa c√¢u: T√¨m t·ª´ c√≥ tr·ªçng √¢m kh√°c bi·ªát: activity.**",
                explanation_en: "**activity** has the stress on the second syllable, while the others are on the first."
            },
            {
                type: 'mc', title: 'ƒê·ªãa l√Ω Vi·ªát Nam:',
                question: "Which province/city is next to the sea?",
                options: ["Lai Chau", "Phu Yen", "Lam Dong", "Binh Duong"],
                correct: "Phu Yen",
                hint: "T·ªânh gi√°p bi·ªÉn.",
                explanation_vi: "**Ph√∫ Y√™n** l√† t·ªânh gi√°p bi·ªÉn (duy√™n h·∫£i Nam Trung B·ªô). **Nghƒ©a c·ªßa c√¢u: T·ªânh/th√†nh ph·ªë n√†o gi√°p bi·ªÉn? - Ph√∫ Y√™n.**",
                explanation_en: "**Phu Yen** is a coastal province. The others are not."
            },
            {
                type: 'mc', title: 'C√¢u ph·ªß ƒë·ªãnh Hi·ªán t·∫°i ƒê∆°n:',
                question: "He _____ to go to the swimming pool.",
                options: ["don't want", "isn't want", "doesn't wants", "doesn't want"],
                correct: "doesn't want",
                hint: "Tr·ª£ ƒë·ªông t·ª´ v√† ƒë·ªông t·ª´ ch√≠nh ƒëi v·ªõi 'He'.",
                explanation_vi: "Ch·ªß ng·ªØ 'He' d√πng tr·ª£ ƒë·ªông t·ª´ **doesn't** v√† ƒë·ªông t·ª´ ch√≠nh **want** (nguy√™n m·∫´u). **Nghƒ©a c·ªßa c√¢u: Anh ·∫•y kh√¥ng mu·ªën ƒëi ƒë·∫øn h·ªì b∆°i.**",
                explanation_en: "Subject 'He' uses auxiliary verb **doesn't** and the main verb **want** (bare form)."
            },
            {
                type: 'mc', title: 'Gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠:',
                question: "The lake is _____ the building.",
                options: ["next to", "behind", "near", "in front of"],
                correct: "behind",
                hint: "Ch·ªçn gi·ªõi t·ª´ ch√≠nh x√°c.",
                explanation_vi: "T·∫•t c·∫£ c√°c ƒë√°p √°n ƒë·ªÅu l√† gi·ªõi t·ª´ ch·ªâ v·ªã tr√≠ h·ª£p l√Ω v·ªÅ m·∫∑t ng·ªØ ph√°p. Ch·ªçn **behind** theo ƒë·ªÅ b√†i. **Nghƒ©a c·ªßa c√¢u: H·ªì n∆∞·ªõc ·ªü ph√≠a sau t√≤a nh√†.**",
                explanation_en: "All options are grammatically correct prepositions of place. **Behind** is selected as the designated answer."
            },
            {
                type: 'mc', title: 'T·ª´ v·ª±ng (ƒê·ªì v·∫≠t trong nh√†):',
                question: "There is a _____ in the kitchen.",
                options: ["computer", "bath", "bed", "cooker"],
                correct: "cooker",
                hint: "ƒê·ªì v·∫≠t th∆∞·ªùng c√≥ trong b·∫øp.",
                explanation_vi: "**Cooker** (n·ªìi/b·∫øp n·∫•u) l√† ƒë·ªì v·∫≠t th∆∞·ªùng c√≥ trong b·∫øp. **Nghƒ©a c·ªßa c√¢u: C√≥ m·ªôt c√°i b·∫øp n·∫•u trong nh√† b·∫øp.**",
                explanation_en: "A **cooker** is an appliance commonly found in the kitchen."
            },
            {
                type: 'mc', title: 'S·ªë ƒë·∫øm:',
                question: "How many bedrooms are there in the house?",
                options: ["5 bedrooms", "4 bedrooms", "2 bedrooms", "3 bedrooms"],
                correct: "3 bedrooms",
                hint: "C·∫ßn ch·ªçn m·ªôt s·ªë l∆∞·ª£ng c·ª• th·ªÉ (ƒë√°p √°n m·∫∑c ƒë·ªãnh l√† D).",
                explanation_vi: "C√¢u h·ªèi n√†y thi·∫øu ng·ªØ c·∫£nh. Ch·ªçn **3 bedrooms** theo ƒë√°p √°n g·ªëc c·ªßa ƒë·ªÅ (mang t√≠nh minh h·ªça). **Nghƒ©a c·ªßa c√¢u: C√≥ bao nhi√™u ph√≤ng ng·ªß trong ng√¥i nh√†? - 3 ph√≤ng ng·ªß.**",
                explanation_en: "This question lacks context; **3 bedrooms** is chosen as the default answer for structural purposes."
            },
            {
                type: 'mc', title: 'Tr·ªçng √¢m kh√°c:',
                question: "Find the word that differs from the rest in the position of the main stress.",
                options: ["brother", "doctor", "sister", "sixteen"],
                correct: "sixteen",
                hint: "Ch√∫ √Ω tr·ªçng √¢m c·ªßa s·ªë ƒë·∫øm.",
                explanation_vi: "**brother, doctor, sister** (√¢m 1). **sixteen** (√¢m 2, v·ªõi 'teen'). **Nghƒ©a c·ªßa c√¢u: T√¨m t·ª´ c√≥ tr·ªçng √¢m kh√°c bi·ªát: sixteen.**",
                explanation_en: "**sixteen** has the stress on the second syllable. The others are on the first."
            },
            {
                type: 'mc', title: 'ƒê·ªãa l√Ω:',
                question: "Which ocean is larger, the Pacific Ocean or the Arctic Ocean?",
                options: ["Pacific", "Atlantic", "Indian", "Southern"],
                correct: "Pacific",
                hint: "ƒê·∫°i d∆∞∆°ng l·ªõn nh·∫•t th·∫ø gi·ªõi.",
                explanation_vi: "Th√°i B√¨nh D∆∞∆°ng (**Pacific**) l√† ƒë·∫°i d∆∞∆°ng l·ªõn nh·∫•t th·∫ø gi·ªõi. **Nghƒ©a c·ªßa c√¢u: ƒê·∫°i d∆∞∆°ng n√†o l·ªõn h∆°n, Th√°i B√¨nh D∆∞∆°ng hay B·∫Øc BƒÉng D∆∞∆°ng? - Th√°i B√¨nh D∆∞∆°ng.**",
                explanation_en: "The Pacific Ocean is the largest in the world."
            },
            {
                type: 'mc', title: 'Vi·∫øt l·∫°i c√¢u (So s√°nh):',
                question: "Choose the sentence that is closest in meaning to the following sentence: The market is older than the shopping centre.",
                options: [
                    "The shopping centre newer than the market.",
                    "The shopping centre is new than the market.",
                    "The shopping centre is newer than the market.",
                    "The shopping centre is new than the market."
                ],
                correct: "The shopping centre is newer than the market.",
                hint: "Older $\\Leftrightarrow$ Newer.",
                explanation_vi: "N·∫øu ch·ª£ **older** (c≈© h∆°n) trung t√¢m mua s·∫Øm, th√¨ trung t√¢m mua s·∫Øm **newer** (m·ªõi h∆°n) ch·ª£. C·∫•u tr√∫c ƒë√∫ng l√† **is newer than**. **Nghƒ©a c·ªßa c√¢u: Ch·ª£ c≈© h∆°n trung t√¢m mua s·∫Øm. (T∆∞∆°ng ƒë∆∞∆°ng) Trung t√¢m mua s·∫Øm m·ªõi h∆°n ch·ª£.**",
                explanation_en: "If the market is older, the shopping centre is **newer**. The correct structure is **is newer than**."
            },
            {
                type: 'mc', title: 'S·ª≠a l·ªói:',
                question: "Choose the part that needs correction in the following sentence: My friend is listens to music now.",
                options: ["to", "listens", "music", "is"],
                correct: "listens",
                hint: "L·ªói th√¨ Hi·ªán t·∫°i Ti·∫øp di·ªÖn.",
                explanation_vi: "Trong Hi·ªán t·∫°i Ti·∫øp di·ªÖn, sau 'is' ph·∫£i l√† V-ing. S·ª≠a **listens** th√†nh **listening**. **Nghƒ©a c·ªßa c√¢u: C√¢u My friend is listens to music now sai ·ªü t·ª´ listens.**",
                explanation_en: "In the Present Continuous tense, the verb should be V-ing. Change **listens** to **listening**."
            },
            {
                type: 'mc', title: 'Th·ªùi gian:',
                question: "When is the best time to open the store?",
                options: ["It's from 8 a.m. to 9 p.m.", "It's from 9 a.m. to 8 p.m.", "It's from 9 a.m. to 9 p.m.", "It's from 8 a.m. to 8 p.m."],
                correct: "It's from 9 a.m. to 9 p.m.",
                hint: "C·∫ßn ch·ªçn m·ªôt khung gi·ªù h·ª£p l√Ω (Mang t√≠nh minh h·ªça).",
                explanation_vi: "C√¢u h·ªèi thi·∫øu ng·ªØ c·∫£nh v·ªÅ gi·ªù m·ªü c·ª≠a. **9 a.m. to 9 p.m.** l√† m·ªôt khung gi·ªù ho·∫°t ƒë·ªông b√°n l·∫ª ph·ªï bi·∫øn. **Nghƒ©a c·ªßa c√¢u: Th·ªùi ƒëi·ªÉm t·ªët nh·∫•t ƒë·ªÉ m·ªü c·ª≠a h√†ng l√† khi n√†o? - T·ª´ 9 gi·ªù s√°ng ƒë·∫øn 9 gi·ªù t·ªëi.**",
                explanation_en: "Lacking context, **9 a.m. to 9 p.m.** is a common retail operating hour (illustrative answer)."
            },
            {
                type: 'mc', title: 'ƒê·ªãa l√Ω:',
                question: "Which country is NOT in Asia?",
                options: ["Indonesia", "Singapore", "Germany", "Thailand"],
                correct: "Germany",
                hint: "Qu·ªëc gia thu·ªôc ch√¢u √Çu.",
                explanation_vi: "**Germany** (ƒê·ª©c) n·∫±m ·ªü Ch√¢u √Çu, kh√¥ng ph·∫£i Ch√¢u √Å. **Nghƒ©a c·ªßa c√¢u: Qu·ªëc gia n√†o kh√¥ng thu·ªôc ch√¢u √Å? - ƒê·ª©c.**",
                explanation_en: "**Germany** is located in Europe, not Asia."
            },
            {
                type: 'mc', title: 'Th·ªùi gian:',
                question: "Note: The library opens at 9 o'clock in the morning and closes at 5 o'clock in the afternoon. What time does the library open?",
                options: ["5 a.m", "9 a.m", "9 p.m", "5 p.m"],
                correct: "9 a.m",
                hint: "Gi·ªù m·ªü c·ª≠a bu·ªïi s√°ng.",
                explanation_vi: "Th∆∞ vi·ªán m·ªü c·ª≠a l√∫c 9 gi·ªù s√°ng, t·ª©c l√† **9 a.m**. **Nghƒ©a c·ªßa c√¢u: Th∆∞ vi·ªán m·ªü c·ª≠a l√∫c m·∫•y gi·ªù? - 9 gi·ªù s√°ng.**",
                explanation_en: "The library opens at 9 o'clock in the morning, which is **9 a.m**."
            },
            {
                type: 'mc', title: 'Chia ƒë·ªông t·ª´:',
                question: "Which verb adds 'es' in the third person?",
                options: ["walk", "see", "miss", "take"],
                correct: "miss",
                hint: "ƒê·ªông t·ª´ k·∫øt th√∫c b·∫±ng sibilants (√¢m x√¨).",
                explanation_vi: "ƒê·ªông t·ª´ k·∫øt th√∫c b·∫±ng -ss (nh∆∞ **miss**) s·∫Ω th√™m **-es** ·ªü ng√¥i th·ª© ba s·ªë √≠t (misses). **Nghƒ©a c·ªßa c√¢u: ƒê·ªông t·ª´ n√†o th√™m 'es' ·ªü ng√¥i th·ª© ba s·ªë √≠t? - miss.**",
                explanation_en: "Verbs ending in -ss (like **miss**) add **-es** in the third person singular (misses)."
            },
            {
                type: 'mc', title: 'T·ª´ tr√°i nghƒ©a:',
                question: "Find the word(s) has the OPPOSITE meaning to the underlined part: I think museum is **boring**. I like historic places but not museum.",
                options: ["shy", "sporty", "interesting", "curious"],
                correct: "interesting",
                hint: "Tr√°i nghƒ©a v·ªõi 'boring' (nh√†m ch√°n).",
                explanation_vi: "Tr√°i nghƒ©a v·ªõi **boring** (nh√†m ch√°n) l√† **interesting** (th√∫ v·ªã). **Nghƒ©a c·ªßa c√¢u: T√¨m t·ª´ tr√°i nghƒ©a v·ªõi boring: interesting.**",
                explanation_en: "The opposite of **boring** is **interesting**."
            },
            {
                type: 'mc', title: 'T·ª´ v·ª±ng (ƒê·ªì v·∫≠t):',
                question: "What is Phong reading?",
                options: ["14 books", "Screen", "Magazine", "Books"],
                correct: "Books",
                hint: "Ch·ªâ m·ªôt danh t·ª´ chung (Mang t√≠nh minh h·ªça).",
                explanation_vi: "C√¢u h·ªèi n√†y thi·∫øu ng·ªØ c·∫£nh. Ch·ªçn **Books** l√† danh t·ª´ chung ƒë·ªÉ minh h·ªça h√†nh ƒë·ªông 'reading'. **Nghƒ©a c·ªßa c√¢u: Phong ƒëang ƒë·ªçc g√¨? - S√°ch.**",
                explanation_en: "Lacking context, **Books** is chosen as the general noun to illustrate the action 'reading' (illustrative answer)."
            }
        ];

        // --- Bi·∫øn Tr·∫°ng th√°i Tr√≤ ch∆°i ---
        let playerName = '';
        let currentQuestionIndex = 0;
        let score = 0;
        let questionsAttempted = 0;
        let isCorrectlyAnswered = false; // Theo d√µi xem c√¢u n√†y ƒë√£ ƒë∆∞·ª£c tr·∫£ l·ªùi ƒë√∫ng l·∫ßn ƒë·∫ßu ch∆∞a

        // --- DOM Elements ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const completeScreen = document.getElementById('complete-screen');
        const playerNameInput = document.getElementById('player-name-input');
        const displayPlayerName = document.getElementById('display-player-name');
        const displayScore = document.getElementById('display-score');
        const displayProgress = document.getElementById('display-progress');
        const questionTitle = document.getElementById('question-title');
        const questionContent = document.getElementById('question-content');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackMessage = document.getElementById('feedback-message');
        const explanationBox = document.getElementById('explanation-box');
        const explanationText = document.getElementById('explanation-text');
        const nextButton = document.getElementById('next-button');
        const hintButton = document.getElementById('hint-button');
        const hintText = document.getElementById('hint-text');
        const finalScoreDisplay = document.getElementById('final-score');
        const totalQuestions = questions.length;
        const toastContainer = document.getElementById('toast-container'); // NEW: Toast container
        
        // C·∫≠p nh·∫≠t s·ªë c√¢u h·ªèi tr√™n m√†n h√¨nh b·∫Øt ƒë·∫ßu
        document.querySelector('#start-screen p').textContent = `Nh·∫≠p t√™n c·ªßa b·∫°n ƒë·ªÉ b·∫Øt ƒë·∫ßu luy·ªán t·∫≠p (t·ªïng ${totalQuestions} c√¢u).`;


        // --- Custom Toast Logic (thay th·∫ø alert() b·ªã c·∫•m) ---
        function showToast(message, type = 'error', duration = 3000) {
            const toast = document.createElement('div');
            toast.className = `toast text-white ${type === 'error' ? 'bg-error' : 'bg-info'}`;
            toast.innerHTML = `<span class="font-bold">${type === 'error' ? 'L·ªói: ' : 'Th√¥ng b√°o: '}</span> ${message}`;
            
            toastContainer.prepend(toast); // Add new toasts to the top
            
            // Show toast
            setTimeout(() => {
                toast.classList.add('show');
            }, 50);

            // Hide and remove toast
            setTimeout(() => {
                toast.classList.remove('show');
                toast.classList.add('opacity-0', 'scale-y-0'); // Add a shrinking effect
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, duration);
        }

        // --- Logic Game Flow ---

        function startGame() {
            playerName = playerNameInput.value.trim();
            if (playerName.length < 2) {
                // S·ª≠ d·ª•ng Toast m·ªõi
                showToast('Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n ƒë·ªÉ b·∫Øt ƒë·∫ßu.', 'error');
                playerNameInput.classList.add('border-error', 'ring-2', 'ring-error');
                setTimeout(() => { playerNameInput.classList.remove('border-error', 'ring-2', 'ring-error'); }, 1000);
                return;
            }
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            quizScreen.classList.add('flex');
            
            displayPlayerName.textContent = playerName;
            
            // X√°o tr·ªôn c√¢u h·ªèi
            questions.sort(() => Math.random() - 0.5);

            currentQuestionIndex = 0;
            score = 0;
            questionsAttempted = 0;
            updateScoreDisplay();
            loadQuestion(currentQuestionIndex);
        }

        function resetGame() {
            completeScreen.classList.add('hidden');
            // X√≥a ph√°o hoa
            const confettiCanvas = document.getElementById('confetti-canvas');
            confettiCanvas.innerHTML = ''; 
            
            // Quay l·∫°i m√†n h√¨nh b·∫Øt ƒë·∫ßu
            startScreen.classList.remove('hidden');
            playerNameInput.value = '';
        }

        function updateScoreDisplay() {
            displayScore.textContent = score;
            // Hi·ªÉn th·ªã s·ªë c√¢u h·ªèi hi·ªán t·∫°i (1-based) / T·ªïng s·ªë c√¢u.
            const currentQNum = currentQuestionIndex < totalQuestions ? currentQuestionIndex + 1 : totalQuestions;
            displayProgress.textContent = `${currentQNum}/${totalQuestions}`;
        }

        function loadQuestion(index) {
            if (index >= totalQuestions) {
                showCompleteScreen();
                return;
            }

            // Reset tr·∫°ng th√°i
            isCorrectlyAnswered = false;
            feedbackArea.classList.add('hidden');
            feedbackMessage.textContent = '';
            explanationBox.classList.add('hidden');
            nextButton.disabled = true;
            nextButton.classList.remove('btn-success');
            nextButton.textContent = 'Ti·∫øp theo ¬ª';

            const q = questions[index];
            questionTitle.textContent = `C√¢u ${index + 1}/${totalQuestions} - ${q.title}`;
            hintText.textContent = `G·ª£i √Ω: ${q.hint}`;

            // T·∫°o n·ªôi dung c√¢u h·ªèi
            let contentHTML = '';
            
            if (q.type === 'rearrange') {
                const shuffledWords = [...q.words].sort(() => Math.random() - 0.5);
                contentHTML = `
                    <p class="text-lg text-gray-700 font-medium mb-4">S·∫Øp x·∫øp c√°c t·ª´ sau b·∫±ng c√°ch nh·∫•p v√†o c√°c n√∫t:</p>
                    <div id="rearrange-words" class="flex flex-wrap gap-2 mb-4 p-4 border border-dashed border-gray-300 rounded-xl bg-gray-50">
                        ${shuffledWords.map(word => `<button class="word-btn btn bg-info text-sm py-1 px-3" data-word="${word.trim()}" onclick="selectWord(this)">${word.trim()}</button>`).join('')}
                    </div>
                    <p class="text-lg font-semibold text-primary mb-2">C√¢u tr·∫£ l·ªùi c·ªßa b·∫°n:</p>
                    <div class="flex items-center space-x-2">
                        <input type="text" id="rearrange-input" readonly placeholder="C√¢u tr·∫£ l·ªùi s·∫Ω hi·ªán ra khi b·∫°n nh·∫•p v√†o t·ª´..." 
                            class="flex-grow px-4 py-2 border border-gray-300 rounded-xl focus:ring-primary focus:border-primary transition duration-150">
                        <button onclick="resetRearrange()" class="btn bg-gray-500 hover:bg-gray-600 text-sm">X√≥a</button>
                        <button onclick="checkRearrangeAnswer()" class="btn btn-primary text-sm">Ki·ªÉm tra</button>
                    </div>
                `;
            } else if (q.type === 'fill') {
                const textWithBlank = q.text.replace('_____', '<span class="text-xl font-bold text-red-500">_______</span>');
                contentHTML = `
                    <p class="text-xl font-medium text-gray-800 p-4 border border-gray-300 rounded-xl bg-gray-50">${textWithBlank}</p>
                    <p class="text-lg font-semibold text-primary mb-2 mt-4">ƒêi·ªÅn t·ª´:</p>
                    <input type="text" id="fill-input" placeholder="Nh·∫≠p t·ª´ c√≤n thi·∫øu..." 
                        class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-primary focus:border-primary transition duration-150" onkeyup="if(event.key === 'Enter') checkFillAnswer()">
                    <button onclick="checkFillAnswer()" class="btn btn-primary w-full mt-2">Ki·ªÉm tra</button>
                `;
            } else if (q.type === 'mc') {
                // Randomize options for MC
                const shuffledOptions = q.options.map(option => ({ text: option, correct: option === q.correct }));
                shuffledOptions.sort(() => Math.random() - 0.5);

                const optionsHTML = shuffledOptions.map((option, i) => `
                    <div class="mc-option-container">
                        <input type="radio" id="mc-option-${index}-${i}" name="mc-choice" value="${option.text}" class="hidden" 
                            onclick="checkMCAnswer(this)">
                        <label for="mc-option-${index}-${i}" class="block p-3 border border-gray-300 rounded-xl cursor-pointer hover:bg-primary/10 transition duration-150 text-gray-800">
                            <span class="font-bold mr-2 text-primary">${String.fromCharCode(65 + i)}.</span> ${option.text}
                        </label>
                    </div>
                `).join('');
                contentHTML = `
                    <p class="text-xl font-medium text-gray-800 p-4 border border-gray-300 rounded-xl bg-gray-50">${q.question}</p>
                    <div class="mt-4 space-y-2" id="mc-options">${optionsHTML}</div>
                `;
            }

            questionContent.innerHTML = contentHTML;
            updateScoreDisplay();
        }

        // --- Logic C√¢u tr·∫£ l·ªùi ---

        function handleCorrectAnswer(correctAnswer, explanation_vi, explanation_en) {
            if (!isCorrectlyAnswered) {
                score += 10;
                questionsAttempted++;
                isCorrectlyAnswered = true; // ƒê√°nh d·∫•u l√† ƒë√£ tr·∫£ l·ªùi ƒë√∫ng l·∫ßn ƒë·∫ßu ch∆∞a
            }
            
            updateScoreDisplay();

            feedbackArea.classList.remove('hidden');
            feedbackMessage.className = 'text-lg font-semibold p-3 mb-3 rounded-xl bg-success text-white';
            feedbackMessage.textContent = '‚úÖ Ch√≠nh x√°c! (ƒê√£ l√†m: ' + questionsAttempted + ')';

            // ƒê√£ c·∫≠p nh·∫≠t ƒë·ªÉ hi·ªÉn th·ªã c·∫£ nghƒ©a c·ªßa c√¢u ƒë√∫ng.
            explanationText.innerHTML = `
                <p class="mb-2"><strong>ƒê√°p √°n ƒë√∫ng:</strong> ${correctAnswer}</p>
                <p class="mb-2"><strong>Nghƒ©a c·ªßa c√¢u:</strong> ${explanation_vi.match(/Nghƒ©a c·ªßa c√¢u: (.*?)(?:\.|\.$|$)/)?.[1]?.trim() || explanation_vi.match(/Nghƒ©a c·ªßa c√¢u: (.*)/)?.[1]?.trim() || '(Kh√¥ng c√≥ s·∫µn)'}</p>
                <p class="mb-2"><strong>Gi·∫£i th√≠ch:</strong> ${explanation_vi.replace(/Nghƒ©a c·ªßa c√¢u:.*?\.?$/, '').trim()}</p>
                <p><strong>Explanation (English):</strong> ${explanation_en}</p>
            `;
            explanationBox.classList.remove('hidden');

            nextButton.disabled = false;
            nextButton.classList.add('btn-success');
            nextButton.textContent = 'Tuy·ªát v·ªùi! Ti·∫øp theo ¬ª';
            disableCurrentQuestion();
        }

        function handleWrongAnswer() {
            feedbackArea.classList.remove('hidden');
            feedbackMessage.className = 'text-lg font-semibold p-3 mb-3 rounded-xl bg-error text-white';
            feedbackMessage.textContent = '‚ùå Sai r·ªìi. H√£y th·ª≠ l·∫°i!';
            explanationBox.classList.add('hidden');
        }

        function disableCurrentQuestion() {
            const currentQ = questions[currentQuestionIndex];
            if (currentQ.type === 'mc') {
                document.querySelectorAll('#mc-options input').forEach(input => input.disabled = true);
                document.querySelectorAll('#mc-options label').forEach(label => label.classList.remove('hover:bg-primary/10', 'cursor-pointer'));
            } else if (currentQ.type === 'fill') {
                document.getElementById('fill-input').disabled = true;
                document.querySelector('#question-content button:last-child').disabled = true; // Disable Check button
            } else if (currentQ.type === 'rearrange') {
                document.getElementById('rearrange-input').disabled = true;
                document.querySelectorAll('.word-btn').forEach(btn => btn.disabled = true);
                document.querySelector('#question-content .flex.items-center button:last-child').disabled = true; // Disable Check button
                document.querySelector('#question-content .flex.items-center button:nth-child(2)').disabled = true; // Disable Reset button
            }
        }

        // Ki·ªÉm tra c√¢u h·ªèi tr·∫Øc nghi·ªám (Multiple Choice)
        function checkMCAnswer(radio) {
            const q = questions[currentQuestionIndex];
            const correctAnswer = q.correct; // L·∫•y ƒë√°p √°n ƒë√∫ng t·ª´ m·∫£ng questions
            
            const selectedAnswer = radio.value;

            // ƒê√°nh d·∫•u ƒë√°p √°n ƒë√∫ng/sai tr√™n UI
            document.querySelectorAll('#mc-options input').forEach(input => {
                const label = input.nextElementSibling;
                label.classList.remove('bg-success/20', 'bg-error/20');
                if (input.value === correctAnswer) {
                    label.classList.add('bg-success/20', 'border-success', 'font-bold');
                } else if (input.checked) {
                    label.classList.add('bg-error/20', 'border-error', 'font-bold');
                }
            });

            if (selectedAnswer === correctAnswer) {
                handleCorrectAnswer(selectedAnswer, q.explanation_vi, q.explanation_en);
            } else {
                handleWrongAnswer();
            }
        }

        // Ki·ªÉm tra c√¢u h·ªèi ƒëi·ªÅn t·ª´ (Fill-in-the-blank)
        function checkFillAnswer() {
            const q = questions[currentQuestionIndex];
            
            // X·ª≠ l√Ω nhi·ªÅu ƒë√°p √°n (n·∫øu c√≥)
            const correctAnswers = q.multiple_answers || [q.answer];
            
            const input = document.getElementById('fill-input');
            const userAnswer = input.value.trim().toLowerCase().replace(/[.,!?:;]$/, ''); // Lo·∫°i b·ªè d·∫•u c√¢u cu·ªëi
            
            let isCorrect = false;
            let actualCorrectAnswer = q.answer; // L·∫•y ƒë√°p √°n chu·∫©n ƒë·ªÉ hi·ªÉn th·ªã

            // Ki·ªÉm tra c√¢u tr·∫£ l·ªùi c√≥ kh·ªõp v·ªõi b·∫•t k·ª≥ ƒë√°p √°n n√†o trong m·∫£ng kh√¥ng
            for (const ans of correctAnswers) {
                if (userAnswer === ans.trim().toLowerCase().replace(/[.,!?:;]$/, '')) {
                    isCorrect = true;
                    break;
                }
            }

            if (isCorrect) {
                input.classList.remove('border-error', 'bg-error/5');
                input.classList.add('border-success', 'bg-success/5');
                handleCorrectAnswer(actualCorrectAnswer, q.explanation_vi, q.explanation_en);
            } else {
                input.classList.remove('border-success', 'bg-success/5');
                input.classList.add('border-error', 'bg-error/5');
                handleWrongAnswer();
            }
        }

        // Logic x·ª≠ l√Ω khi click v√†o t·ª´
        function selectWord(button) {
            const word = button.getAttribute('data-word');
            const input = document.getElementById('rearrange-input');
            
            // N·∫øu c√¢u h·ªèi ƒë√£ tr·∫£ l·ªùi ƒë√∫ng, kh√¥ng cho ph√©p t∆∞∆°ng t√°c
            if (input.disabled) return; 

            // Th√™m t·ª´ v√†o √¥ nh·∫≠p li·ªáu v√† th√™m kho·∫£ng tr·∫Øng
            input.value += (word + ' ');
            
            // V√¥ hi·ªáu h√≥a n√∫t ƒë·ªÉ tr√°nh nh·∫•p ƒë√∫p
            button.disabled = true;
            button.classList.remove('bg-info', 'hover:bg-primary-dark');
            button.classList.add('bg-gray-400', 'cursor-not-allowed');
            
            // ·∫®n ph·∫£n h·ªìi n·∫øu c√≥ sai s√≥t tr∆∞·ªõc ƒë√≥
            feedbackArea.classList.add('hidden');
        }

        // Logic x√≥a c√¢u tr·∫£ l·ªùi s·∫Øp x·∫øp
        function resetRearrange() {
            const input = document.getElementById('rearrange-input');
            input.value = '';
            document.querySelectorAll('.word-btn').forEach(btn => {
                btn.disabled = false;
                btn.classList.add('bg-info', 'hover:bg-primary-dark');
                btn.classList.remove('bg-gray-400', 'cursor-not-allowed');
            });
            // ·∫®n th√¥ng b√°o ph·∫£n h·ªìi khi ng∆∞·ªùi ch∆°i reset
            feedbackArea.classList.add('hidden');
            // Reset vi·ªÅn input
            input.classList.remove('border-error', 'bg-error/5', 'border-success', 'bg-success/5');
        }

        // Ki·ªÉm tra c√¢u h·ªèi s·∫Øp x·∫øp (Rearrange)
        function checkRearrangeAnswer() {
            const q = questions[currentQuestionIndex];
            const correctAnswer = q.answer; // L·∫•y ƒë√°p √°n ƒë√∫ng t·ª´ m·∫£ng questions
            
            const input = document.getElementById('rearrange-input');
            // Lo·∫°i b·ªè kho·∫£ng tr·∫Øng th·ª´a, d·∫•u ch·∫•m/ph·∫©y cu·ªëi c√¢u v√† chuy·ªÉn th√†nh ch·ªØ th∆∞·ªùng
            const userAnswer = input.value.trim().toLowerCase().replace(/[.,!?:;]$/, '');
            const correctLower = correctAnswer.trim().toLowerCase().replace(/[.,!?:;]$/, '');
            
            // So s√°nh chu·ªói ƒë√£ chu·∫©n h√≥a (lo·∫°i b·ªè d·∫•u c√¢u cu·ªëi, ch·ªØ hoa, kho·∫£ng tr·∫Øng th·ª´a)
            const normalize = (str) => str.replace(/[^a-zA-Z0-9\s]/g, '').replace(/\s+/g, ' ').trim();
            const userAnswerNormalize = normalize(userAnswer);
            const correctLowerNormalize = normalize(correctLower);

            if (userAnswerNormalize === correctLowerNormalize) {
                input.classList.remove('border-error', 'bg-error/5');
                input.classList.add('border-success', 'bg-success/5');
                // S·ª≠a l·∫°i input hi·ªÉn th·ªã ƒë√°p √°n ƒë√∫ng (c√≥ d·∫•u ch·∫•m n·∫øu c·∫ßn)
                input.value = correctAnswer; 
                handleCorrectAnswer(correctAnswer, q.explanation_vi, q.explanation_en);
            } else {
                input.classList.remove('border-success', 'bg-success/5');
                input.classList.add('border-error', 'bg-error/5');
                handleWrongAnswer();
            }
        }

        // --- Logic G·ª£i √Ω ---
        function showHint() {
            hintButton.classList.add('show-hint');
        }

        function hideHint() {
            hintButton.classList.remove('show-hint');
        }

        // --- Logic Chuy·ªÉn c√¢u h·ªèi ---
        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion(currentQuestionIndex);
        }
        
        // --- M√†n h√¨nh ho√†n th√†nh ---
        function showCompleteScreen() {
            quizScreen.classList.add('hidden');
            completeScreen.classList.remove('hidden');
            finalScoreDisplay.textContent = `${score} / ${totalQuestions * 10} ƒëi·ªÉm`;
            
            // K√≠ch ho·∫°t ph√°o hoa (Confetti)
            triggerConfetti();
        }
        
        // --- Hi·ªáu ·ª©ng Ph√°o hoa (Confetti) ---
        function triggerConfetti() {
            const confettiCanvas = document.getElementById('confetti-canvas');
            confettiCanvas.innerHTML = ''; 
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722'];
            const count = 100;

            for (let i = 0; i < count; i++) {
                const piece = document.createElement('div');
                piece.style.position = 'absolute';
                piece.style.width = `${Math.random() * 10 + 5}px`;
                piece.style.height = `${Math.random() * 10 + 5}px`;
                piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                piece.style.left = `${Math.random() * 100}vw`;
                piece.style.top = `${Math.random() * -100}vh`; 
                piece.style.opacity = Math.random() + 0.5;
                piece.style.transform = `rotate(${Math.random() * 360}deg)`;
                
                const duration = Math.random() * 3 + 2; 
                const delay = Math.random() * 0.5;
                piece.style.animation = `fall ${duration}s ease-in ${delay}s forwards`;

                confettiCanvas.appendChild(piece);
            }

            if (!document.querySelector('style[data-confetti]')) {
                const style = document.createElement('style');
                style.setAttribute('data-confetti', true);
                style.innerHTML = `
                    @keyframes fall {
                        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                        100% { transform: translateY(105vh) rotate(720deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }


        // --- Kh·ªüi t·∫°o ---
        window.onload = () => {
             console.log("·ª®ng d·ª•ng t·∫£i th√†nh c√¥ng. T·ªïng s·ªë c√¢u h·ªèi: ", questions.length);
        };
    </script>
</body>
</html>
