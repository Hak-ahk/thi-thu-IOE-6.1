<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ i Thi Thá»­ IOE Lá»›p 6 TÆ°Æ¡ng TÃ¡c</title>
    <!-- Táº£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Cáº¥u hÃ¬nh Font vÃ  Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#4f46e5',
                        'primary-dark': '#4338ca',
                        'success': '#10b981',
                        'error': '#ef4444',
                        'info': '#3b82f6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        /* TÃ¹y chá»‰nh nÃºt */
        .btn {
            @apply px-4 py-2 font-semibold text-white transition duration-200 ease-in-out rounded-xl shadow-lg hover:shadow-xl;
        }

        .btn-primary {
            @apply bg-primary hover:bg-primary-dark;
        }

        .btn-success {
            @apply bg-success hover:bg-emerald-600;
        }

        .btn-error {
            @apply bg-error hover:bg-red-600;
        }

        /* Hiá»‡u á»©ng phÃ¡o hoa */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        /* Lá»›p áº©n gá»£i Ã½ máº·c Ä‘á»‹nh */
        #hint-text {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* Lá»›p hiá»ƒn thá»‹ gá»£i Ã½ khi giá»¯ nÃºt */
        .show-hint #hint-text {
            visibility: visible;
            opacity: 1;
        }

        /* Toast Notification */
        #toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 10000;
            max-width: 90vw;
            pointer-events: none;
        }
        .toast {
            @apply p-4 rounded-xl shadow-2xl mb-3 transform transition-all duration-300 ease-out;
            opacity: 0;
            transform: translateY(-20px);
            pointer-events: auto;
        }
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Khung chá»©a á»©ng dá»¥ng chÃ­nh -->
    <div id="app" class="min-h-screen flex flex-col items-center p-4">
        
        <!-- MÃ n hÃ¬nh chÃ o má»«ng/ÄÄƒng nháº­p -->
        <div id="start-screen" class="w-full max-w-lg p-8 bg-white rounded-2xl shadow-2xl transition duration-500">
            <h1 class="text-3xl font-extrabold text-primary mb-4 text-center">BÃ i Thi Thá»­ IOE 6</h1>
            <p class="text-gray-600 text-center mb-6">Nháº­p tÃªn cá»§a báº¡n Ä‘á»ƒ báº¯t Ä‘áº§u luyá»‡n táº­p (tá»•ng 117 cÃ¢u).</p>
            
            <input type="text" id="player-name-input" placeholder="TÃªn cá»§a báº¡n..." 
                   class="w-full px-4 py-3 mb-6 border border-gray-300 rounded-xl focus:ring-primary focus:border-primary transition duration-150">
            
            <button onclick="startGame()" class="btn btn-primary w-full py-3 text-lg">
                Báº¯t Äáº§u Thi
            </button>
            <p class="mt-4 text-sm text-center text-gray-500">Má»—i cÃ¢u Ä‘Ãºng láº§n Ä‘áº§u Ä‘Æ°á»£c 10 Ä‘iá»ƒm. Cá»‘ lÃªn nhÃ©!</p>
        </div>

        <!-- MÃ n hÃ¬nh BÃ i thi -->
        <div id="quiz-screen" class="w-full max-w-3xl p-6 bg-white rounded-2xl shadow-2xl hidden flex-col">
            
            <!-- Thanh thÃ´ng tin -->
            <div class="flex justify-between items-center p-4 mb-4 bg-primary text-white rounded-xl shadow-md">
                <div class="flex-1">
                    <p class="text-sm">ThÃ­ sinh:</p>
                    <p id="display-player-name" class="font-bold text-lg"></p>
                </div>
                <div class="text-right">
                    <p id="display-score" class="font-bold text-3xl">0</p>
                    <p class="text-sm">Äiá»ƒm</p>
                </div>
                <div class="ml-6 text-center">
                    <p id="display-progress" class="font-bold text-3xl">0/0</p>
                    <p class="text-sm">CÃ¢u há»i</p>
                </div>
            </div>

            <!-- Khu vá»±c cÃ¢u há»i -->
            <div id="question-area" class="space-y-6">
                <h2 id="question-title" class="text-xl font-bold text-gray-800"></h2>
                
                <!-- Hiá»ƒn thá»‹ ná»™i dung cÃ¢u há»i (sáº½ Ä‘Æ°á»£c thay Ä‘á»•i báº±ng JS) -->
                <div id="question-content" class="min-h-[150px] flex flex-col justify-center">
                    <!-- Ná»™i dung cÃ¢u há»i cá»¥ thá»ƒ (Sáº¯p xáº¿p/Äiá»n tá»«/Lá»±a chá»n) sáº½ Ä‘Æ°á»£c chÃ¨n vÃ o Ä‘Ã¢y -->
                </div>

                <!-- Khu vá»±c thÃ´ng bÃ¡o vÃ  giáº£i thÃ­ch -->
                <div id="feedback-area" class="hidden">
                    <p id="feedback-message" class="text-lg font-semibold p-3 mb-3 rounded-xl"></p>
                    <div id="explanation-box" class="p-4 bg-info/10 border-l-4 border-info rounded-xl text-gray-700">
                        <p class="font-bold text-info mb-1">Giáº£i thÃ­ch chi tiáº¿t:</p>
                        <p id="explanation-text"></p>
                    </div>
                </div>

                <!-- CÃ¡c nÃºt Ä‘iá»u khiá»ƒn -->
                <div class="flex justify-between items-center pt-4 border-t border-gray-200">
                    <button id="hint-button" class="btn bg-orange-500 hover:bg-orange-600 relative"
                            onmousedown="showHint()" onmouseup="hideHint()" onmouseleave="hideHint()"
                            ontouchstart="showHint()" ontouchend="hideHint()" ontouchcancel="hideHint()">
                        Gá»£i Ã½ (Giá»¯)
                        <div id="hint-text" class="absolute left-0 bottom-full mb-2 p-2 bg-yellow-100 border border-yellow-400 text-yellow-800 text-sm font-normal rounded-xl whitespace-nowrap">
                            <!-- ÄÃ¡p Ã¡n gá»£i Ã½ sáº½ Ä‘Æ°á»£c chÃ¨n vÃ o Ä‘Ã¢y -->
                        </div>
                    </button>

                    <button id="next-button" class="btn btn-primary" onclick="nextQuestion()" disabled>
                        Tiáº¿p theo Â»
                    </button>
                </div>
            </div>
        </div>

        <!-- MÃ n hÃ¬nh chÃºc má»«ng -->
        <div id="complete-screen" class="w-full max-w-lg p-8 bg-white rounded-2xl shadow-2xl text-center hidden transition duration-500 relative overflow-hidden">
            <div class="confetti-container" id="confetti-canvas"></div> 
            <h1 class="text-4xl font-extrabold text-success mb-4 animate-bounce">
                ğŸ‰ ChÃºc Má»«ng HoÃ n ThÃ nh! ğŸ‰
            </h1>
            <p class="text-2xl text-gray-700 mb-2">Báº¡n Ä‘Ã£ hoÃ n thÃ nh bÃ i thi vá»›i</p>
            <p id="final-score" class="text-6xl font-black text-primary mb-6"></p>
            <p class="text-lg text-gray-600 mb-8">HÃ£y lÃ m láº¡i Ä‘á»ƒ Ä‘áº¡t Ä‘iá»ƒm cao hÆ¡n nhÃ©!</p>

            <button onclick="resetGame()" class="btn btn-success w-full py-3 text-lg">
                LÃ m Láº¡i BÃ i Thi
            </button>
        </div>

    </div>

    <!-- Script chÃ­nh -->
    <script>
        // Cáº¥u trÃºc dá»¯ liá»‡u bÃ i thi
        const questions = [
            // --- PART 1: Sáº®P Xáº¾P CÃ‚U (42 cÃ¢u) ---
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["She", "goes", "to school", "every day."],
                answer: "She goes to school every day.",
                hint: "Dáº¥u hiá»‡u thÃ¬ Hiá»‡n táº¡i ÄÆ¡n: 'every day'.",
                explanation_vi: "Cáº¥u trÃºc cÃ¢u kháº³ng Ä‘á»‹nh Hiá»‡n táº¡i ÄÆ¡n: Chá»§ ngá»¯ (She) + V-es (goes) + to school + Tráº¡ng tá»« chá»‰ thá»i gian (every day). **NghÄ©a: CÃ´ áº¥y Ä‘i há»c má»—i ngÃ y.**",
                explanation_en: "Present Simple structure: Subject + V-s/es + Object. 'Goes' is correct for 'She'."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Are", "your friends", "playing cards", "now?"],
                answer: "Are your friends playing cards now?",
                hint: "Dáº¥u hiá»‡u thÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n: 'now'.",
                explanation_vi: "Cáº¥u trÃºc cÃ¢u há»i Hiá»‡n táº¡i Tiáº¿p diá»…n: Be (Are) + S (your friends) + V-ing (playing cards) + now? **NghÄ©a: Báº¡n bÃ¨ cá»§a báº¡n cÃ³ Ä‘ang chÆ¡i bÃ i khÃ´ng?**",
                explanation_en: "Present Continuous question structure: Be + S + V-ing + now?"
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["What", "will", "you", "do", "at Christmas?"],
                answer: "What will you do at Christmas?",
                hint: "Cáº¥u trÃºc cÃ¢u há»i thÃ¬ TÆ°Æ¡ng lai ÄÆ¡n.",
                explanation_vi: "Cáº¥u trÃºc cÃ¢u há»i thÃ¬ TÆ°Æ¡ng lai ÄÆ¡n: What + will + S + V nguyÃªn máº«u + O? **NghÄ©a: Báº¡n sáº½ lÃ m gÃ¬ vÃ o dá»‹p GiÃ¡ng sinh?**",
                explanation_en: "Future Simple question structure: What + will + S + V?"
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["It's", "dangerous", "to swim", "there."],
                answer: "It's dangerous to swim there.",
                hint: "Cáº¥u trÃºc: It's + Adj + to V.",
                explanation_vi: "Cáº¥u trÃºc: **It's dangerous to V** (Nguy hiá»ƒm Ä‘á»ƒ lÃ m gÃ¬). **NghÄ©a: Nguy hiá»ƒm khi bÆ¡i á»Ÿ Ä‘Ã³.**",
                explanation_en: "Structure: **It's dangerous to V** (It's dangerous to do something)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["She", "has", "a new", "bicycle."],
                answer: "She has a new bicycle.",
                hint: "Äá»™ng tá»« sá»Ÿ há»¯u: 'has' Ä‘i vá»›i ngÃ´i thá»© ba sá»‘ Ã­t.",
                explanation_vi: "Äá»™ng tá»« **has** Ä‘i vá»›i ngÃ´i thá»© ba sá»‘ Ã­t 'She'. **NghÄ©a: CÃ´ áº¥y cÃ³ má»™t chiáº¿c xe Ä‘áº¡p má»›i.**",
                explanation_en: "The verb **has** is used with the third person singular 'She'."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Their", "friend", "is", "funny."],
                answer: "Their friend is funny.",
                hint: "Cáº¥u trÃºc: S + be + Adj.",
                explanation_vi: "**Funny** lÃ  tÃ­nh tá»« mÃ´ táº£ 'Their friend'. **NghÄ©a: Báº¡n cá»§a há» tháº­t vui tÃ­nh.**",
                explanation_en: "Funny is an adjective describing 'Their friend'."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Is", "a dog", "bigger", "than a cat?"],
                answer: "Is a dog bigger than a cat?",
                hint: "So sÃ¡nh hÆ¡n vá»›i tÃ­nh tá»« ngáº¯n.",
                explanation_vi: "Cáº¥u trÃºc so sÃ¡nh hÆ¡n: Is + Noun 1 + Adj-er + **than** + Noun 2? **NghÄ©a: Má»™t con chÃ³ cÃ³ lá»›n hÆ¡n má»™t con mÃ¨o khÃ´ng?**",
                explanation_en: "Comparative structure: Is + Noun 1 + Adj-er + **than** + Noun 2?"
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Linh", "is", "my mother's", "English teacher."],
                answer: "Linh is my mother's English teacher.",
                hint: "Sá»Ÿ há»¯u cÃ¡ch.",
                explanation_vi: "**My mother's English teacher** (giÃ¡o viÃªn tiáº¿ng Anh cá»§a máº¹ tÃ´i). **NghÄ©a: Linh lÃ  giÃ¡o viÃªn tiáº¿ng Anh cá»§a máº¹ tÃ´i.**",
                explanation_en: "My mother's English teacher (using the possessive 's)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["My close friend", "likes", "meeting", "new people."],
                answer: "My close friend likes meeting new people.",
                hint: "Äá»™ng tá»« theo sau 'likes'.",
                explanation_vi: "Sau Ä‘á»™ng tá»« **likes** lÃ  V-ing (**meeting**). **NghÄ©a: Báº¡n thÃ¢n cá»§a tÃ´i thÃ­ch gáº·p gá»¡ nhá»¯ng ngÆ°á»i má»›i.**",
                explanation_en: "The verb **likes** is followed by a V-ing (**meeting**)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["The kids", "are eating", "ice cream."],
                answer: "The kids are eating ice cream.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n.",
                explanation_vi: "Chá»§ ngá»¯ sá»‘ nhiá»u 'The kids' Ä‘i vá»›i **are eating** (Ä‘ang Äƒn). **NghÄ©a: Nhá»¯ng Ä‘á»©a tráº» Ä‘ang Äƒn kem.**",
                explanation_en: "Plural subject 'The kids' goes with **are eating** (Present Continuous)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["He", "sometimes", "goes", "swimming."],
                answer: "He sometimes goes swimming.",
                hint: "Vá»‹ trÃ­ tráº¡ng tá»« táº§n suáº¥t: trÆ°á»›c Ä‘á»™ng tá»« thÆ°á»ng.",
                explanation_vi: "Tráº¡ng tá»« táº§n suáº¥t **sometimes** Ä‘á»©ng trÆ°á»›c Ä‘á»™ng tá»« thÆ°á»ng **goes**. **NghÄ©a: Anh áº¥y thá»‰nh thoáº£ng Ä‘i bÆ¡i.**",
                explanation_en: "Adverb of frequency **sometimes** comes before the main verb **goes**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["There", "isn't", "any snow", "on the road."],
                answer: "There isn't any snow on the road.",
                hint: "Cáº¥u trÃºc: There is/are (dÃ¹ng isn't cho danh tá»« khÃ´ng Ä‘áº¿m Ä‘Æ°á»£c).",
                explanation_vi: "DÃ¹ng **isn't** (sá»‘ Ã­t) vÃ¬ 'snow' lÃ  danh tá»« khÃ´ng Ä‘áº¿m Ä‘Æ°á»£c. **Any** dÃ¹ng trong cÃ¢u phá»§ Ä‘á»‹nh. **NghÄ©a: KhÃ´ng cÃ³ tuyáº¿t trÃªn Ä‘Æ°á»ng.**",
                explanation_en: "Use **isn't** for the uncountable noun 'snow'. **Any** is used in the negative sentence."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Linh", "is", "a nice girl", "with long", "black hair."],
                answer: "Linh is a nice girl with long black hair.",
                hint: "Giá»›i tá»« mÃ´ táº£ Ä‘áº·c Ä‘iá»ƒm.",
                explanation_vi: "Sá»­ dá»¥ng giá»›i tá»« **with** Ä‘á»ƒ mÃ´ táº£ má»™t Ä‘áº·c Ä‘iá»ƒm ngoáº¡i hÃ¬nh. **NghÄ©a: Linh lÃ  má»™t cÃ´ gÃ¡i tá»‘t bá»¥ng vá»›i mÃ¡i tÃ³c Ä‘en dÃ i.**",
                explanation_en: "Use the preposition **with** to describe a physical feature."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Nam", "lives", "in the suburbs", "of Da Nang", "City."],
                answer: "Nam lives in the suburbs of Da Nang City.",
                hint: "Cá»¥m tá»« chá»‰ Ä‘á»‹a Ä‘iá»ƒm: 'in the suburbs of'.",
                explanation_vi: "**In the suburbs of** (á»Ÿ vÃ¹ng ngoáº¡i Ã´ cá»§a) + tÃªn Ä‘á»‹a danh. **NghÄ©a: Nam sá»‘ng á»Ÿ vÃ¹ng ngoáº¡i Ã´ thÃ nh phá»‘ ÄÃ  Náºµng.**",
                explanation_en: "**In the suburbs of** + place name."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["She's", "not", "talking", "to a foreigner", "now."],
                answer: "She's not talking to a foreigner now.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n, phá»§ Ä‘á»‹nh.",
                explanation_vi: "Cáº¥u trÃºc phá»§ Ä‘á»‹nh Hiá»‡n táº¡i Tiáº¿p diá»…n: S + be + **not + V-ing**. **NghÄ©a: Hiá»‡n táº¡i cÃ´ áº¥y khÃ´ng Ä‘ang nÃ³i chuyá»‡n vá»›i ngÆ°á»i nÆ°á»›c ngoÃ i.**",
                explanation_en: "Negative Present Continuous structure: S + be + **not + V-ing**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Is the Nile", "the longest river", "in the world?"],
                answer: "Is the Nile the longest river in the world?",
                hint: "Cáº¥u trÃºc so sÃ¡nh nháº¥t.",
                explanation_vi: "Cáº¥u trÃºc cÃ¢u há»i so sÃ¡nh nháº¥t: Is + Noun + **the longest** + Noun phrase? **NghÄ©a: SÃ´ng Nile cÃ³ pháº£i lÃ  con sÃ´ng dÃ i nháº¥t tháº¿ giá»›i khÃ´ng?**",
                explanation_en: "Superlative question structure: Is + Noun + **the longest** + Noun phrase?"
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["These are", "my classmates.", "His name", "is Minh."],
                answer: "These are my classmates. His name is Minh.",
                hint: "Chia thÃ nh hai cÃ¢u Ä‘Æ¡n: giá»›i thiá»‡u vÃ  nÃªu tÃªn.",
                explanation_vi: "CÃ¢u 1: **These are my classmates** (ÄÃ¢y lÃ  cÃ¡c báº¡n cÃ¹ng lá»›p cá»§a tÃ´i). CÃ¢u 2: **His name is Minh** (TÃªn cáº­u áº¥y lÃ  Minh).",
                explanation_en: "Sentence 1: **These are my classmates**. Sentence 2: **His name is Minh**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["My brother", "doesn't play", "computer games", "on weekdays."],
                answer: "My brother doesn't play computer games on weekdays.",
                hint: "Hiá»‡n táº¡i ÄÆ¡n, phá»§ Ä‘á»‹nh.",
                explanation_vi: "Phá»§ Ä‘á»‹nh Hiá»‡n táº¡i ÄÆ¡n: S + **doesn't + V nguyÃªn máº«u**. **NghÄ©a: Anh trai tÃ´i khÃ´ng chÆ¡i trÃ² chÆ¡i mÃ¡y tÃ­nh vÃ o cÃ¡c ngÃ y trong tuáº§n.**",
                explanation_en: "Negative Present Simple: S + **doesn't + bare V**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["My friends", "are playing", "table tennis", "in the gym."],
                answer: "My friends are playing table tennis in the gym.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n vÃ  giá»›i tá»« chá»‰ nÆ¡i chá»‘n.",
                explanation_vi: "Chá»§ ngá»¯ sá»‘ nhiá»u 'My friends' Ä‘i vá»›i **are playing**. **NghÄ©a: Báº¡n bÃ¨ tÃ´i Ä‘ang chÆ¡i bÃ³ng bÃ n trong phÃ²ng táº­p thá»ƒ dá»¥c.**",
                explanation_en: "Plural subject 'My friends' goes with **are playing**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["The children", "are singing", "a song."],
                answer: "The children are singing a song.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n.",
                explanation_vi: "Chá»§ ngá»¯ sá»‘ nhiá»u 'The children' Ä‘i vá»›i **are singing**. **NghÄ©a: Bá»n tráº» Ä‘ang hÃ¡t má»™t bÃ i hÃ¡t.**",
                explanation_en: "Plural subject 'The children' goes with **are singing**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["She", "sometimes", "plays", "the piano."],
                answer: "She sometimes plays the piano.",
                hint: "Vá»‹ trÃ­ tráº¡ng tá»« táº§n suáº¥t.",
                explanation_vi: "Tráº¡ng tá»« táº§n suáº¥t **sometimes** Ä‘á»©ng trÆ°á»›c Ä‘á»™ng tá»« thÆ°á»ng **plays**. **NghÄ©a: CÃ´ áº¥y thá»‰nh thoáº£ng chÆ¡i piano.**",
                explanation_en: "Adverb of frequency **sometimes** comes before the main verb **plays**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["My mother", "rarely", "goes", "to work", "late."],
                answer: "My mother rarely goes to work late.",
                hint: "Tráº¡ng tá»« táº§n suáº¥t: 'rarely' Ä‘á»©ng trÆ°á»›c Ä‘á»™ng tá»« thÆ°á»ng.",
                explanation_vi: "Tráº¡ng tá»« táº§n suáº¥t **rarely** Ä‘á»©ng giá»¯a chá»§ ngá»¯ vÃ  Ä‘á»™ng tá»«. **NghÄ©a: Máº¹ tÃ´i hiáº¿m khi Ä‘i lÃ m muá»™n.**",
                explanation_en: "Adverb of frequency **rarely** comes between the subject and the verb."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["She", "likes", "drawing", "pictures."],
                answer: "She likes drawing pictures.",
                hint: "Äá»™ng tá»« theo sau 'likes'.",
                explanation_vi: "Sau Ä‘á»™ng tá»« **likes** lÃ  V-ing (**drawing**). **NghÄ©a: CÃ´ áº¥y thÃ­ch váº½ tranh.**",
                explanation_en: "The verb **likes** is followed by a V-ing (**drawing**)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Why", "does she want", "to go", "to the department store?"],
                answer: "Why does she want to go to the department store?",
                hint: "Cáº¥u trÃºc cÃ¢u há»i Wh-question Hiá»‡n táº¡i ÄÆ¡n.",
                explanation_vi: "Cáº¥u trÃºc: **Why + does + S + V nguyÃªn máº«u + to V...?** **NghÄ©a: Táº¡i sao cÃ´ áº¥y muá»‘n Ä‘áº¿n cá»­a hÃ ng bÃ¡ch hÃ³a?**",
                explanation_en: "Structure: **Why + does + S + V nguyÃªn máº«u + to V...?**"
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["What", "does", "your sister", "look like?"],
                answer: "What does your sister look like?",
                hint: "Cá»¥m tá»«: 'look like' (trÃ´ng nhÆ° tháº¿ nÃ o).",
                explanation_vi: "Cáº¥u trÃºc há»i ngoáº¡i hÃ¬nh: **What + does + S + look like?** **NghÄ©a: Chá»‹ gÃ¡i cá»§a báº¡n trÃ´ng nhÆ° tháº¿ nÃ o?**",
                explanation_en: "Question structure for appearance: **What + does + S + look like?**"
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["I", "live in", "an apartment", "with my parents."],
                answer: "I live in an apartment with my parents.",
                hint: "Giá»›i tá»« chá»‰ nÆ¡i á»Ÿ: 'live in'.",
                explanation_vi: "**Live in** + Noun (sá»‘ng trong má»™t nÆ¡i). **NghÄ©a: TÃ´i sá»‘ng trong má»™t cÄƒn há»™ vá»›i bá»‘ máº¹.**",
                explanation_en: "**Live in** + Noun (live in a place)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Would you", "like", "some water,", "Minh?"],
                answer: "Would you like some water, Minh?",
                hint: "Cá»¥m tá»«: 'Would you like' (má»i ai Ä‘Ã³).",
                explanation_vi: "**Would you like** + Noun (Má»i/Ä‘á» nghá»‹). **NghÄ©a: Minh, báº¡n cÃ³ muá»‘n uá»‘ng chÃºt nÆ°á»›c khÃ´ng?**",
                explanation_en: "**Would you like** + Noun (Offer/invitation)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["We", "must", "brush our teeth", "before", "going to bed."],
                answer: "We must brush our teeth before going to bed.",
                hint: "Äá»™ng tá»« sau 'must' vÃ  sau 'before'.",
                explanation_vi: "Sau **must** lÃ  V nguyÃªn máº«u; sau giá»›i tá»« **before** lÃ  V-ing. **NghÄ©a: ChÃºng ta pháº£i Ä‘Ã¡nh rÄƒng trÆ°á»›c khi Ä‘i ngá»§.**",
                explanation_en: "After **must** is bare V; after the preposition **before** is V-ing."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Tourists", "can visit", "fishing villages", "in Phu Quoc."],
                answer: "Tourists can visit fishing villages in Phu Quoc.",
                hint: "Äá»™ng tá»« khuyáº¿t thiáº¿u: 'can'.",
                explanation_vi: "Sau **can** (cÃ³ thá»ƒ) lÃ  Ä‘á»™ng tá»« nguyÃªn máº«u **visit**. **NghÄ©a: Du khÃ¡ch cÃ³ thá»ƒ ghÃ© thÄƒm cÃ¡c lÃ ng chÃ i á»Ÿ PhÃº Quá»‘c.**",
                explanation_en: "After **can** is the bare verb **visit**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["There is", "a lake", "behind", "the hospital."],
                answer: "There is a lake behind the hospital.",
                hint: "Cáº¥u trÃºc: There is/are vÃ  giá»›i tá»« chá»‰ vá»‹ trÃ­ 'behind'.",
                explanation_vi: "**There is** + Noun (cÃ³ má»™t cÃ¡i gÃ¬). **Behind** chá»‰ vá»‹ trÃ­. **NghÄ©a: CÃ³ má»™t cÃ¡i há»“ phÃ­a sau bá»‡nh viá»‡n.**",
                explanation_en: "**There is** + Noun. **Behind** indicates position."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["He's", "fat", "with", "black eyes."],
                answer: "He's fat with black eyes.",
                hint: "MÃ´ táº£ ngoáº¡i hÃ¬nh: 'with' Ä‘i vá»›i Ä‘áº·c Ä‘iá»ƒm bá»™ pháº­n cÆ¡ thá»ƒ.",
                explanation_vi: "Cáº¥u trÃºc: S + be + Adj + **with** + Noun. **NghÄ©a: Anh áº¥y máº­p vá»›i Ä‘Ã´i máº¯t Ä‘en.**",
                explanation_en: "Structure: S + be + Adj + **with** + Noun (describing appearance)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["There's a lot", "of different food", "and we often eat", "vegetarian food."],
                answer: "There's a lot of different food and we often eat vegetarian food.",
                hint: "Ná»‘i hai má»‡nh Ä‘á» báº±ng 'and'.",
                explanation_vi: "Má»‡nh Ä‘á» 1: CÃ³ nhiá»u loáº¡i thá»©c Äƒn khÃ¡c nhau. Má»‡nh Ä‘á» 2: ChÃºng tÃ´i thÆ°á»ng Äƒn thá»©c Äƒn chay. Ná»‘i báº±ng **and**. **NghÄ©a: CÃ³ nhiá»u loáº¡i thá»©c Äƒn khÃ¡c nhau vÃ  chÃºng tÃ´i thÆ°á»ng Äƒn thá»©c Äƒn chay.**",
                explanation_en: "Clause 1: There's a lot of different food. Clause 2: We often eat vegetarian food. Joined by **and**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["You mustn't", "pick up flowers", "in the school", "garden."],
                answer: "You mustn't pick up flowers in the school garden.",
                hint: "Äá»™ng tá»« khuyáº¿t thiáº¿u chá»‰ sá»± cáº¥m Ä‘oÃ¡n: 'mustn't'.",
                explanation_vi: "**Mustn't** + V nguyÃªn máº«u (KhÃ´ng Ä‘Æ°á»£c lÃ m gÃ¬). **NghÄ©a: Báº¡n khÃ´ng Ä‘Æ°á»£c hÃ¡i hoa trong vÆ°á»n trÆ°á»ng.**",
                explanation_en: "**Mustn't** + bare V (Prohibition)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["I think", "you should", "tidy your", "bedroom now."],
                answer: "I think you should tidy your bedroom now.",
                hint: "Cáº¥u trÃºc khuyÃªn báº£o: 'should' + V nguyÃªn máº«u.",
                explanation_vi: "**Should** + V nguyÃªn máº«u (NÃªn lÃ m gÃ¬). **NghÄ©a: TÃ´i nghÄ© bÃ¢y giá» báº¡n nÃªn dá»n dáº¹p phÃ²ng ngá»§.**",
                explanation_en: "**Should** + bare V (Suggestion/advice)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["How about", "meeting", "in the canteen", "for some tea?"],
                answer: "How about meeting in the canteen for some tea?",
                hint: "Cá»¥m tá»«: 'How about' + V-ing.",
                explanation_vi: "**How about** + V-ing (Äá» xuáº¥t, rá»§ rÃª). **NghÄ©a: Gáº·p nhau á»Ÿ cÄƒng tin uá»‘ng trÃ  nhÃ©?**",
                explanation_en: "**How about** + V-ing (Making a suggestion)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["I", "am not joining", "the competition."],
                answer: "I am not joining the competition.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n, phá»§ Ä‘á»‹nh.",
                explanation_vi: "S + **am not joining** (TÃ´i khÃ´ng Ä‘ang/sáº½ tham gia). **NghÄ©a: TÃ´i sáº½ khÃ´ng tham gia cuá»™c thi.**",
                explanation_en: "S + **am not joining** (Negative Present Continuous/Arrangement)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["Which character", "do you like", "the best", "in this story?"],
                answer: "Which character do you like the best in this story?",
                hint: "Cáº¥u trÃºc cÃ¢u há»i Wh-question.",
                explanation_vi: "**Which character** (NhÃ¢n váº­t nÃ o) + do/does + S + V? **NghÄ©a: Báº¡n thÃ­ch nhÃ¢n váº­t nÃ o nháº¥t trong cÃ¢u chuyá»‡n nÃ y?**",
                explanation_en: "**Which character** + do/does + S + V?"
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["We", "are going", "to the art gallery", "now."],
                answer: "We are going to the art gallery now.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n, dáº¥u hiá»‡u 'now'.",
                explanation_vi: "S + **are going** (Ä‘ang Ä‘i) + to + place. **NghÄ©a: BÃ¢y giá» chÃºng tÃ´i Ä‘ang Ä‘i Ä‘áº¿n phÃ²ng trÆ°ng bÃ y nghá»‡ thuáº­t.**",
                explanation_en: "S + **are going** + to + place."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["You should", "eat", "vegetables and fruit", "every day."],
                answer: "You should eat vegetables and fruit every day.",
                hint: "Cáº¥u trÃºc khuyÃªn báº£o: 'should'.",
                explanation_vi: "**Should** + V nguyÃªn máº«u (NÃªn Äƒn). **NghÄ©a: Báº¡n nÃªn Äƒn rau vÃ  trÃ¡i cÃ¢y má»—i ngÃ y.**",
                explanation_en: "**Should** + bare V (Should eat)."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["My grandmother", "is sitting", "on the armchair", "near the fireplace."],
                answer: "My grandmother is sitting on the armchair near the fireplace.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n vÃ  giá»›i tá»« chá»‰ vá»‹ trÃ­.",
                explanation_vi: "S + **is sitting** (Ä‘ang ngá»“i) + **on** (trÃªn) + **near** (gáº§n). **NghÄ©a: BÃ  tÃ´i Ä‘ang ngá»“i trÃªn gháº¿ bÃ nh gáº§n lÃ² sÆ°á»Ÿi.**",
                explanation_en: "S + **is sitting** + **on** + **near**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["It takes me", "ten minutes", "to walk", "to school", "every morning."],
                answer: "It takes me ten minutes to walk to school every morning.",
                hint: "Cáº¥u trÃºc: It takes sb time to V.",
                explanation_vi: "**It takes me ten minutes to walk** (Máº¥t 10 phÃºt Ä‘á»ƒ Ä‘i bá»™). **NghÄ©a: Máº¥t mÆ°á»i phÃºt Ä‘á»ƒ tÃ´i Ä‘i bá»™ Ä‘áº¿n trÆ°á»ng má»—i sÃ¡ng.**",
                explanation_en: "Structure: **It takes sb time to V**."
            },
            {
                type: 'rearrange', title: 'Sáº¯p xáº¿p cÃ¢u:',
                words: ["She is", "watching", "her favourite cartoon", "at present."],
                answer: "She is watching her favourite cartoon at present.",
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n, dáº¥u hiá»‡u 'at present'.",
                explanation_vi: "S + **is watching** (Ä‘ang xem). **NghÄ©a: Hiá»‡n táº¡i cÃ´ áº¥y Ä‘ang xem bá»™ phim hoáº¡t hÃ¬nh yÃªu thÃ­ch cá»§a mÃ¬nh.**",
                explanation_en: "S + **is watching** (Present Continuous)."
            },

            // --- PART 2: ÄIá»€N Tá»ª (FILL-IN-THE-BLANK) ---
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "He often _____ volleyball after school.",
                answer: "plays", multiple_answers: ["plays"],
                hint: "Hiá»‡n táº¡i ÄÆ¡n, ngÃ´i thá»© ba sá»‘ Ã­t.",
                explanation_vi: "Chá»§ ngá»¯ 'He' (sá»‘ Ã­t) $\rightarrow$ V + 's'/'es'. **NghÄ©a cá»§a cÃ¢u: Anh áº¥y thÆ°á»ng chÆ¡i bÃ³ng chuyá»n sau giá» há»c.**",
                explanation_en: "Subject 'He' (singular) $\rightarrow$ V + 's'/'es'."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "The garden is _____ the house.",
                answer: "behind", multiple_answers: ["behind", "in front of", "near", "next to"],
                hint: "Giá»›i tá»« chá»‰ vá»‹ trÃ­.",
                explanation_vi: "Giá»›i tá»« chá»‰ vá»‹ trÃ­ Ä‘á»u há»£p lÃ½ vá» máº·t ngá»¯ phÃ¡p. **NghÄ©a cá»§a cÃ¢u: Khu vÆ°á»n á»Ÿ phÃ­a sau ngÃ´i nhÃ .**",
                explanation_en: "A preposition of place is needed here. **behind** is a plausible answer."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "She lives _____ a small house on King Street.",
                answer: "in", multiple_answers: ["in"],
                hint: "Giá»›i tá»« Ä‘i vá»›i nÆ¡i á»Ÿ (trong).",
                explanation_vi: "**In** (trong) dÃ¹ng vá»›i 'a small house'. **NghÄ©a cá»§a cÃ¢u: CÃ´ áº¥y sá»‘ng trong má»™t ngÃ´i nhÃ  nhá» trÃªn phá»‘ King.**",
                explanation_en: "**In** is used for living inside a house."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "It's _____ in summer.",
                answer: "hot", multiple_answers: ["hot", "sunny"],
                hint: "TÃ­nh tá»« mÃ´ táº£ thá»i tiáº¿t mÃ¹a hÃ¨.",
                explanation_vi: "Thá»i tiáº¿t thÆ°á»ng **hot** (nÃ³ng) hoáº·c **sunny** (náº¯ng) vÃ o mÃ¹a hÃ¨. **NghÄ©a cá»§a cÃ¢u: Trá»i nÃ³ng vÃ o mÃ¹a hÃ¨.**",
                explanation_en: "The weather is usually **hot** or **sunny** in summer."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Traveling _____ is more interesting.",
                answer: "alone", multiple_answers: ["alone", "abroad", "cheaply"],
                hint: "Tráº¡ng tá»« chá»‰ cÃ¡ch thá»©c. (VÃ­ dá»¥: má»™t mÃ¬nh)",
                explanation_vi: "Tá»« cáº§n Ä‘iá»n lÃ  tráº¡ng tá»«. **NghÄ©a cá»§a cÃ¢u: Du lá»‹ch má»™t mÃ¬nh thÃ¬ thÃº vá»‹ hÆ¡n.**",
                explanation_en: "The missing word is an adverb, such as **alone** or **abroad**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "My mother helps me with my History _____.",
                answer: "homework", multiple_answers: ["homework", "project"],
                hint: "Cá»¥m danh tá»«: BÃ i táº­p vá» nhÃ .",
                explanation_vi: "**History homework** (bÃ i táº­p vá» nhÃ  Lá»‹ch sá»­) hoáº·c **project** (dá»± Ã¡n). **NghÄ©a cá»§a cÃ¢u: Máº¹ tÃ´i giÃºp tÃ´i lÃ m bÃ i táº­p Lá»‹ch sá»­.**",
                explanation_en: "**History homework** or **project** is the missing noun."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Thank you very much _____ your letter.",
                answer: "for", multiple_answers: ["for"],
                hint: "Giá»›i tá»« Ä‘i vá»›i 'thank you'.",
                explanation_vi: "**Thank you for** (Cáº£m Æ¡n vÃ¬). **NghÄ©a cá»§a cÃ¢u: Cáº£m Æ¡n báº¡n ráº¥t nhiá»u vÃ¬ lÃ¡ thÆ° cá»§a báº¡n.**",
                explanation_en: "**Thank you for** is the correct prepositional phrase."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "The students _____ doing morning exercises.",
                answer: "are", multiple_answers: ["are"],
                hint: "Hiá»‡n táº¡i Tiáº¿p diá»…n, Ä‘á»™ng tá»« 'to be' sá»‘ nhiá»u.",
                explanation_vi: "Chá»§ ngá»¯ 'The students' (sá»‘ nhiá»u) $\rightarrow$ **are**. **NghÄ©a cá»§a cÃ¢u: CÃ¡c há»c sinh Ä‘ang táº­p thá»ƒ dá»¥c buá»•i sÃ¡ng.**",
                explanation_en: "Plural subject $\rightarrow$ **are** (Present Continuous)."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Do you have any pictures _____ your bedroom?",
                answer: "in", multiple_answers: ["in", "on"],
                hint: "Giá»›i tá»« chá»‰ vá»‹ trÃ­ (trong/trÃªn).",
                explanation_vi: "**In** your bedroom (trong phÃ²ng) hoáº·c **on** the wall (trÃªn tÆ°á»ng). **NghÄ©a cá»§a cÃ¢u: Báº¡n cÃ³ bá»©c tranh nÃ o trong phÃ²ng ngá»§ khÃ´ng?**",
                explanation_en: "**In** is the most common preposition here."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "They _____ their homework at the moment.",
                answer: "are doing", multiple_answers: ["are doing"],
                hint: "Hiá»‡n táº¡i Tiáº¿p diá»…n, dáº¥u hiá»‡u 'at the moment'.",
                explanation_vi: "S sá»‘ nhiá»u $\rightarrow$ **are doing**. **NghÄ©a cá»§a cÃ¢u: Há» Ä‘ang lÃ m bÃ i táº­p vá» nhÃ  ngay lÃºc nÃ y.**",
                explanation_en: "Plural subject $\rightarrow$ **are doing** (Present Continuous)."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "How about playing _____?",
                answer: "chess", multiple_answers: ["chess", "games", "football", "badminton"],
                hint: "Danh tá»« chá»‰ trÃ² chÆ¡i/thá»ƒ thao.",
                explanation_vi: "Tá»« cáº§n Ä‘iá»n lÃ  má»™t trÃ² chÆ¡i/thá»ƒ thao. **NghÄ©a cá»§a cÃ¢u: ChÆ¡i cá» vua thÃ¬ sao?**",
                explanation_en: "The missing word is a game or sport (e.g., **chess**)."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "There aren't any pillows _____ the bed.",
                answer: "on", multiple_answers: ["on", "under"],
                hint: "Giá»›i tá»« chá»‰ vá»‹ trÃ­ (trÃªn/dÆ°á»›i).",
                explanation_vi: "**On** the bed (trÃªn giÆ°á»ng). **NghÄ©a cá»§a cÃ¢u: KhÃ´ng cÃ³ cÃ¡i gá»‘i nÃ o trÃªn giÆ°á»ng.**",
                explanation_en: "**On** is the correct preposition of place."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Jane and her friend _____ walking to the supermarket near her house.",
                answer: "are", multiple_answers: ["are"],
                hint: "Hiá»‡n táº¡i Tiáº¿p diá»…n, Ä‘á»™ng tá»« 'to be' sá»‘ nhiá»u.",
                explanation_vi: "Chá»§ ngá»¯ sá»‘ nhiá»u $\rightarrow$ **are**. **NghÄ©a cá»§a cÃ¢u: Jane vÃ  báº¡n cÃ´ áº¥y Ä‘ang Ä‘i bá»™ Ä‘áº¿n siÃªu thá»‹ gáº§n nhÃ .**",
                explanation_en: "Plural subject $\rightarrow$ **are** (Present Continuous)."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "The moon _____ around the Earth.",
                answer: "moves", multiple_answers: ["moves", "revolves"],
                hint: "Hiá»‡n táº¡i ÄÆ¡n (sá»± tháº­t hiá»ƒn nhiÃªn), ngÃ´i thá»© ba sá»‘ Ã­t.",
                explanation_vi: "Máº·t trÄƒng (sá»‘ Ã­t) $\rightarrow$ **moves** / **revolves**. **NghÄ©a cá»§a cÃ¢u: Máº·t trÄƒng chuyá»ƒn Ä‘á»™ng quanh TrÃ¡i Äáº¥t.**",
                explanation_en: "Singular subject $\rightarrow$ V-s/es."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "What time does the boy _____?",
                answer: "wake up", multiple_answers: ["wake up", "get up"],
                hint: "Äá»™ng tá»« sau 'does' (nguyÃªn máº«u).",
                explanation_vi: "Cá»¥m Ä‘á»™ng tá»«: **wake up** (thá»©c dáº­y) / **get up** (ngá»§ dáº­y). **NghÄ©a cá»§a cÃ¢u: Cáº­u bÃ© thá»©c dáº­y lÃºc máº¥y giá»?**",
                explanation_en: "The missing verb phrase is **wake up** / **get up**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "She _____ her homework.",
                answer: "does", multiple_answers: ["does", "finishes"],
                hint: "Hiá»‡n táº¡i ÄÆ¡n (thÃ³i quen), ngÃ´i thá»© ba sá»‘ Ã­t.",
                explanation_vi: "Chá»§ ngá»¯ 'She' $\rightarrow$ **does**. **NghÄ©a cá»§a cÃ¢u: CÃ´ áº¥y lÃ m bÃ i táº­p vá» nhÃ .**",
                explanation_en: "Singular subject 'She' $\rightarrow$ **does**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "She is playing the _____ at present.",
                answer: "piano", multiple_answers: ["piano", "guitar", "violin"],
                hint: "TÃªn má»™t loáº¡i nháº¡c cá»¥.",
                explanation_vi: "TÃªn má»™t loáº¡i nháº¡c cá»¥ Ä‘i vá»›i 'the' $\rightarrow$ **piano**. **NghÄ©a cá»§a cÃ¢u: Hiá»‡n táº¡i cÃ´ áº¥y Ä‘ang chÆ¡i Ä‘Ã n piano.**",
                explanation_en: "The name of a musical instrument."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Don't _____ the tree!",
                answer: "climb", multiple_answers: ["climb", "cut", "touch"],
                hint: "Äá»™ng tá»« nguyÃªn máº«u sau 'Don't'.",
                explanation_vi: "**Don't climb** (Äá»«ng trÃ¨o) lÃ  má»™t lá»i cáº¥m phá»• biáº¿n. **NghÄ©a cá»§a cÃ¢u: Äá»«ng trÃ¨o cÃ¢y!**",
                explanation_en: "**Don't** + bare V."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Is there a police _____ near the bank?",
                answer: "station", multiple_answers: ["station"],
                hint: "Cá»¥m danh tá»«: Äá»“n cáº£nh sÃ¡t.",
                explanation_vi: "**Police station** (Ä‘á»“n cáº£nh sÃ¡t). **NghÄ©a cá»§a cÃ¢u: CÃ³ Ä‘á»“n cáº£nh sÃ¡t nÃ o gáº§n ngÃ¢n hÃ ng khÃ´ng?**",
                explanation_en: "**Police station** is the correct compound noun."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "My brother likes playing _____ after school.",
                answer: "football", multiple_answers: ["football", "games", "basketball", "volleyball"],
                hint: "Danh tá»« chá»‰ trÃ² chÆ¡i/thá»ƒ thao.",
                explanation_vi: "MÃ´n thá»ƒ thao: **football**. **NghÄ©a cá»§a cÃ¢u: Anh trai tÃ´i thÃ­ch chÆ¡i bÃ³ng Ä‘Ã¡ sau giá» há»c.**",
                explanation_en: "The missing word is a sport (e.g., **football**)."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Take the second turning _____ the left.",
                answer: "on", multiple_answers: ["on"],
                hint: "Cá»¥m tá»« chá»‰ hÆ°á»›ng ráº½.",
                explanation_vi: "**On** the left (á»Ÿ bÃªn trÃ¡i). **NghÄ©a cá»§a cÃ¢u: Ráº½ á»Ÿ ngÃ£ ráº½ thá»© hai vá» phÃ­a bÃªn trÃ¡i.**",
                explanation_en: "**On** the left is the correct phrase."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "She _____ forgets my birthday.",
                answer: "never", multiple_answers: ["never", "rarely"],
                hint: "Tráº¡ng tá»« táº§n suáº¥t (nghÄ©a phá»§ Ä‘á»‹nh).",
                explanation_vi: "**Never** (khÃ´ng bao giá») hoáº·c **rarely** (hiáº¿m khi) Ä‘á»u cÃ³ nghÄ©a phá»§ Ä‘á»‹nh. **NghÄ©a cá»§a cÃ¢u: CÃ´ áº¥y khÃ´ng bao giá» quÃªn sinh nháº­t tÃ´i.**",
                explanation_en: "An adverb of frequency with a negative meaning (e.g., **never**)."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Let me _____ a try.",
                answer: "have", multiple_answers: ["have", "take"],
                hint: "Cá»¥m Ä‘á»™ng tá»«: thá»­.",
                explanation_vi: "**Have/take** a try (thá»­ má»™t láº§n). **NghÄ©a cá»§a cÃ¢u: HÃ£y Ä‘á»ƒ tÃ´i thá»­ má»™t láº§n.**",
                explanation_en: "**Have/take** a try is the correct idiom."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "This puzzle is _____ than I think.",
                answer: "harder", multiple_answers: ["harder", "easier"],
                hint: "So sÃ¡nh hÆ¡n: Adj-er.",
                explanation_vi: "**Harder** (khÃ³ hÆ¡n) hoáº·c **easier** (dá»… hÆ¡n) Ä‘á»u Ä‘Ãºng ngá»¯ phÃ¡p. **NghÄ©a cá»§a cÃ¢u: CÃ¢u Ä‘á»‘ nÃ y khÃ³ hÆ¡n tÃ´i nghÄ©.**",
                explanation_en: "Comparative adjective: **harder** or **easier**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "What do you know about Da Nang _____?",
                answer: "City", multiple_answers: ["City"],
                hint: "TÃªn Ä‘á»‹a danh.",
                explanation_vi: "**Da Nang City** (ThÃ nh phá»‘ ÄÃ  Náºµng). **NghÄ©a cá»§a cÃ¢u: Báº¡n biáº¿t gÃ¬ vá» thÃ nh phá»‘ ÄÃ  Náºµng?**",
                explanation_en: "**Da Nang City** is the correct noun."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Give the correct form of the word WORK in the following sentence: My mother _____ (WORK) eight hours a day.",
                answer: "works", multiple_answers: ["works"],
                hint: "Hiá»‡n táº¡i ÄÆ¡n, ngÃ´i thá»© ba sá»‘ Ã­t.",
                explanation_vi: "Chá»§ ngá»¯ 'My mother' (sá»‘ Ã­t) $\rightarrow$ **works**. **NghÄ©a cá»§a cÃ¢u: Máº¹ tÃ´i lÃ m viá»‡c tÃ¡m giá» má»™t ngÃ y.**",
                explanation_en: "Singular subject 'My mother' $\rightarrow$ **works**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Give the correct form of the word STUDY in the following sentence: She is _____ (STUDY) English at the moment.",
                answer: "studying", multiple_answers: ["studying"],
                hint: "Hiá»‡n táº¡i Tiáº¿p diá»…n: be + V-ing.",
                explanation_vi: "Cáº¥u trÃºc Hiá»‡n táº¡i Tiáº¿p diá»…n: is + **studying**. **NghÄ©a cá»§a cÃ¢u: CÃ´ áº¥y Ä‘ang há»c tiáº¿ng Anh ngay lÃºc nÃ y.**",
                explanation_en: "Present Continuous structure: is + **studying**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Thirty plus twenty makes _____.",
                answer: "fifty", multiple_answers: ["fifty"],
                hint: "PhÃ©p cá»™ng: 30 + 20.",
                explanation_vi: "30 + 20 = **50**. **NghÄ©a cá»§a cÃ¢u: Ba mÆ°Æ¡i cá»™ng hai mÆ°Æ¡i lÃ  nÄƒm mÆ°Æ¡i.**",
                explanation_en: "30 + 20 = **fifty**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Mountains are higher _____ hills.",
                answer: "than", multiple_answers: ["than"],
                hint: "So sÃ¡nh hÆ¡n.",
                explanation_vi: "Cáº¥u trÃºc so sÃ¡nh hÆ¡n: higher **than**. **NghÄ©a cá»§a cÃ¢u: NÃºi cao hÆ¡n Ä‘á»“i.**",
                explanation_en: "Comparative structure: higher **than**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Eighteen divided by two makes _____.",
                answer: "nine", multiple_answers: ["nine"],
                hint: "PhÃ©p chia: 18 / 2.",
                explanation_vi: "18 chia cho 2 báº±ng **9**. **NghÄ©a cá»§a cÃ¢u: MÆ°á»i tÃ¡m chia hai lÃ  chÃ­n.**",
                explanation_en: "18 divided by 2 equals **nine**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Can you tell us the way _____ the bus stop?",
                answer: "to", multiple_answers: ["to"],
                hint: "Chá»‰ Ä‘Æ°á»ng: the way to.",
                explanation_vi: "Cá»¥m tá»«: the way **to** (Ä‘Æ°á»ng Ä‘áº¿n). **NghÄ©a cá»§a cÃ¢u: Báº¡n cÃ³ thá»ƒ chá»‰ cho chÃºng tÃ´i Ä‘Æ°á»ng Ä‘áº¿n tráº¡m xe buÃ½t Ä‘Æ°á»£c khÃ´ng?**",
                explanation_en: "The phrase: the way **to**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "The train is moving _____ quickly.",
                answer: "very", multiple_answers: ["very", "too", "so"],
                hint: "Tráº¡ng tá»« bá»• nghÄ©a cho 'quickly'.",
                explanation_vi: "Sá»­ dá»¥ng **very/too/so** Ä‘á»ƒ bá»• nghÄ©a cho tráº¡ng tá»« 'quickly'. **NghÄ©a cá»§a cÃ¢u: TÃ u há»a Ä‘ang di chuyá»ƒn ráº¥t nhanh.**",
                explanation_en: "Use **very/too/so** to modify the adverb 'quickly'."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "After that, I have _____ and then clean my house.",
                answer: "lunch", multiple_answers: ["lunch", "dinner", "breakfast", "a shower"],
                hint: "Hoáº¡t Ä‘á»™ng hÃ ng ngÃ y: vÃ­ dá»¥ Äƒn trÆ°a.",
                explanation_vi: "Hoáº¡t Ä‘á»™ng hÃ ng ngÃ y: **lunch** (Äƒn trÆ°a), **dinner** (Äƒn tá»‘i) Ä‘á»u há»£p lÃ½. **NghÄ©a cá»§a cÃ¢u: Sau Ä‘Ã³, tÃ´i Äƒn trÆ°a vÃ  sau Ä‘Ã³ dá»n dáº¹p nhÃ .**",
                explanation_en: "Daily activity, e.g., **lunch** or **dinner**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "The dishwasher of my family is very _____",
                answer: "useful", multiple_answers: ["useful", "good", "expensive"],
                hint: "TÃ­nh tá»« mÃ´ táº£ mÃ¡y rá»­a chÃ©n.",
                explanation_vi: "MÃ¡y rá»­a chÃ©n thÆ°á»ng Ä‘Æ°á»£c mÃ´ táº£ lÃ  **useful** (há»¯u Ã­ch). **NghÄ©a cá»§a cÃ¢u: MÃ¡y rá»­a chÃ©n cá»§a gia Ä‘Ã¬nh tÃ´i ráº¥t há»¯u Ã­ch.**",
                explanation_en: "An adjective describing the dishwasher, e.g., **useful**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "I _____ how to ride a horse.",
                answer: "know", multiple_answers: ["know", "don't know"],
                hint: "Äá»™ng tá»«: biáº¿t/khÃ´ng biáº¿t.",
                explanation_vi: "Sá»­ dá»¥ng **know** (biáº¿t) hoáº·c **don't know** (khÃ´ng biáº¿t). **NghÄ©a cá»§a cÃ¢u: TÃ´i biáº¿t cÃ¡ch cÆ°á»¡i ngá»±a.**",
                explanation_en: "The verb **know** or **don't know**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "My cousin is the best football player in his _____.",
                answer: "team", multiple_answers: ["team", "class", "school"],
                hint: "Danh tá»« chá»‰ nhÃ³m/Ä‘á»™i.",
                explanation_vi: "Cá»¥m tá»«: in his **team** (trong Ä‘á»™i cá»§a anh áº¥y). **NghÄ©a cá»§a cÃ¢u: Anh há» tÃ´i lÃ  cáº§u thá»§ bÃ³ng Ä‘Ã¡ giá»i nháº¥t trong Ä‘á»™i.**",
                explanation_en: "The missing noun is a group, e.g., **team**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "He goes to the _____ every Saturday.",
                answer: "gym", multiple_answers: ["gym", "market", "cinema", "park"],
                hint: "Äá»‹a Ä‘iá»ƒm thÆ°á»ng Ä‘áº¿n cuá»‘i tuáº§n.",
                explanation_vi: "Äá»‹a Ä‘iá»ƒm thÆ°á»ng Ä‘áº¿n vÃ o cuá»‘i tuáº§n. **NghÄ©a cá»§a cÃ¢u: Anh áº¥y Ä‘áº¿n phÃ²ng táº­p gym má»—i thá»© Báº£y.**",
                explanation_en: "A place people usually go on weekends."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Vietnamese use _____ to eat.",
                answer: "chopsticks", multiple_answers: ["chopsticks", "spoon"],
                hint: "Dá»¥ng cá»¥ Äƒn uá»‘ng truyá»n thá»‘ng.",
                explanation_vi: "NgÆ°á»i Viá»‡t Nam thÆ°á»ng dÃ¹ng **chopsticks** (Ä‘Å©a) Ä‘á»ƒ Äƒn. **NghÄ©a cá»§a cÃ¢u: NgÆ°á»i Viá»‡t Nam dÃ¹ng Ä‘Å©a Ä‘á»ƒ Äƒn.**",
                explanation_en: "Traditional Vietnamese eating utensil: **chopsticks**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "He's listening to music at the _____.",
                answer: "moment", multiple_answers: ["moment"],
                hint: "Dáº¥u hiá»‡u thÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n: at the...",
                explanation_vi: "Cá»¥m tá»«: at the **moment** (ngay lÃºc nÃ y). **NghÄ©a cá»§a cÃ¢u: Anh áº¥y Ä‘ang nghe nháº¡c ngay lÃºc nÃ y.**",
                explanation_en: "The phrase: at the **moment**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "He must go to the department store at 5 _____.",
                answer: "p.m.", multiple_answers: ["p.m.", "pm", "a.m.", "am"],
                explanation_vi: "Thá»i gian: **p.m.** hoáº·c **a.m.** **NghÄ©a cá»§a cÃ¢u: Anh áº¥y pháº£i Ä‘áº¿n cá»­a hÃ ng bÃ¡ch hÃ³a lÃºc 5 giá» chiá»u.**",
                explanation_en: "Time: **p.m.** or **a.m.**"
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "You _____ eat in class.",
                answer: "mustn't", multiple_answers: ["mustn't", "shouldn't", "can't"],
                hint: "Äá»™ng tá»« khuyáº¿t thiáº¿u: cáº¥m/khÃ´ng nÃªn.",
                explanation_vi: "**Mustn't** (cáº¥m) hoáº·c **shouldn't** (khÃ´ng nÃªn). **NghÄ©a cá»§a cÃ¢u: Báº¡n khÃ´ng Ä‘Æ°á»£c Äƒn trong lá»›p.**",
                explanation_en: "Modal verb for prohibition or advice: **mustn't** or **shouldn't**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Keep quiet! She _____.",
                answer: "is sleeping", multiple_answers: ["is sleeping"],
                hint: "ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n, hÃ nh Ä‘á»™ng Ä‘ang xáº£y ra.",
                explanation_vi: "Dáº¥u hiá»‡u 'Keep quiet!' dÃ¹ng Hiá»‡n táº¡i Tiáº¿p diá»…n: **is sleeping**. **NghÄ©a cá»§a cÃ¢u: Giá»¯ yÃªn láº·ng! CÃ´ áº¥y Ä‘ang ngá»§.**",
                explanation_en: "The cue 'Keep quiet!' requires Present Continuous: **is sleeping**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "I have new books, and we have new _____ to study.",
                answer: "things", multiple_answers: ["things", "subjects"],
                hint: "Danh tá»« sá»‘ nhiá»u chá»‰ váº­t/mÃ´n há»c.",
                explanation_vi: "Danh tá»« sá»‘ nhiá»u: **things** (thá»©/váº­t) hoáº·c **subjects** (mÃ´n há»c). **NghÄ©a cá»§a cÃ¢u: TÃ´i cÃ³ sÃ¡ch má»›i, vÃ  chÃºng tÃ´i cÃ³ nhá»¯ng thá»© má»›i Ä‘á»ƒ há»c.**",
                explanation_en: "Plural noun, e.g., **things** or **subjects**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "Fifty divided by ten makes _____.",
                answer: "five", multiple_answers: ["five"],
                hint: "PhÃ©p chia: 50 / 10.",
                explanation_vi: "50 chia cho 10 báº±ng **5**. **NghÄ©a cá»§a cÃ¢u: NÄƒm mÆ°Æ¡i chia mÆ°á»i báº±ng nÄƒm.**",
                explanation_en: "50 divided by 10 equals **five**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "There are any flowers in the living _____, Anna?",
                answer: "room", multiple_answers: ["room"],
                hint: "Cá»¥m danh tá»«: phÃ²ng khÃ¡ch.",
                explanation_vi: "**Living room** (phÃ²ng khÃ¡ch). **NghÄ©a cá»§a cÃ¢u: CÃ³ báº¥t ká»³ bÃ´ng hoa nÃ o trong phÃ²ng khÃ¡ch khÃ´ng, Anna?**",
                explanation_en: "**Living room** is the correct compound noun."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "It's quiet at _____.",
                answer: "night", multiple_answers: ["night"],
                hint: "Cá»¥m tá»« chá»‰ thá»i gian: vÃ o ban Ä‘Ãªm.",
                explanation_vi: "Cá»¥m tá»«: at **night** (vÃ o ban Ä‘Ãªm). **NghÄ©a cá»§a cÃ¢u: Trá»i yÃªn tÄ©nh vÃ o ban Ä‘Ãªm.**",
                explanation_en: "The phrase: at **night**."
            },
            {
                type: 'fill', title: 'Äiá»n tá»«:',
                text: "The opposite of RIGHT is _____.",
                answer: "left", multiple_answers: ["left", "wrong"],
                hint: "Tá»« trÃ¡i nghÄ©a (vá»‹ trÃ­/Ä‘Ãºng-sai).",
                explanation_vi: "TrÃ¡i nghÄ©a cá»§a 'right' (pháº£i) lÃ  **left** (trÃ¡i), hoáº·c 'right' (Ä‘Ãºng) lÃ  **wrong** (sai). **NghÄ©a cá»§a cÃ¢u: Tá»« trÃ¡i nghÄ©a vá»›i RIGHT (pháº£i) lÃ  LEFT (trÃ¡i).**",
                explanation_en: "The opposite of 'right' is **left** or **wrong**."
            },

            // --- PART 3: CÃ‚U Há»I Lá»°A CHá»ŒN (MULTIPLE CHOICE) ---
            {
                type: 'mc', title: 'PhÃ¡t Ã¢m khÃ¡c:',
                question: "Find the word which has a different sound in the underlined part: $\\text{h}$",
                options: ["hour", "honey", "hotel", "hard"],
                correct: "hour",
                hint: "ChÃº Ã½ Ã¢m cÃ¢m.",
                explanation_vi: "Tá»« **hour** cÃ³ 'h' cÃ¢m (/ËˆaÊŠÉ™r/). CÃ¡c tá»« cÃ²n láº¡i cÃ³ Ã¢m 'h' há»¯u thanh (/h/). **NghÄ©a cá»§a cÃ¢u: TÃ¬m tá»« cÃ³ Ã¢m 'h' khÃ¡c biá»‡t: hour.**",
                explanation_en: "The letter 'h' in **hour** is silent (//ËˆaÊŠÉ™r/). The other words have the /h/ sound."
            },
            {
                type: 'mc', title: 'So sÃ¡nh hÆ¡n:',
                question: "Is the new school _____ than the old one?",
                options: ["bigger", "big", "biger", "more big"],
                correct: "bigger",
                hint: "So sÃ¡nh hÆ¡n vá»›i tÃ­nh tá»« ngáº¯n, pháº£i gáº¥p Ä‘Ã´i phá»¥ Ã¢m cuá»‘i.",
                explanation_vi: "TÃ­nh tá»« ngáº¯n 'big' dÃ¹ng so sÃ¡nh hÆ¡n lÃ  **bigger** (gáº¥p Ä‘Ã´i phá»¥ Ã¢m cuá»‘i 'g'). **NghÄ©a cá»§a cÃ¢u: NgÃ´i trÆ°á»ng má»›i cÃ³ lá»›n hÆ¡n ngÃ´i trÆ°á»ng cÅ© khÃ´ng?**",
                explanation_en: "The comparative form of the short adjective 'big' is **bigger** (doubling the consonant 'g')."
            },
            {
                type: 'mc', title: 'Giá»›i tá»« chá»‰ Ä‘á»‹a Ä‘iá»ƒm:',
                question: "Choose the correct sentence.",
                options: [
                    "My house is from 255 Tran Phu street.",
                    "My house is at 255 Tran Phu street.",
                    "My house is on 255 Tran Phu street.",
                    "My house is in 255 Tran Phu street."
                ],
                correct: "My house is at 255 Tran Phu street.",
                hint: "Giá»›i tá»« dÃ¹ng cho Ä‘á»‹a chá»‰ cá»¥ thá»ƒ.",
                explanation_vi: "Giá»›i tá»« **at** Ä‘Æ°á»£c dÃ¹ng cho Ä‘á»‹a chá»‰ nhÃ /sá»‘ nhÃ  cá»¥ thá»ƒ. **NghÄ©a cá»§a cÃ¢u: NhÃ  tÃ´i á»Ÿ sá»‘ 255 Ä‘Æ°á»ng Tráº§n PhÃº.**",
                explanation_en: "The preposition **at** is used for a specific address/house number."
            },
            {
                type: 'mc', title: 'Äá»™ng tá»« phÃ¹ há»£p:',
                question: "They _____ karate very well.",
                options: ["study", "do", "play", "have"],
                correct: "do",
                hint: "Äá»™ng tá»« Ä‘i vá»›i mÃ´n thá»ƒ thao/vÃµ thuáº­t.",
                explanation_vi: "Äá»™ng tá»« **do** Ä‘Æ°á»£c dÃ¹ng vá»›i mÃ´n vÃµ thuáº­t/thá»ƒ thao cÃ¡ nhÃ¢n nhÆ° 'karate'. **NghÄ©a cá»§a cÃ¢u: Há» táº­p karate ráº¥t giá»i.**",
                explanation_en: "The verb **do** is used with martial arts or individual sports like 'karate'."
            },
            {
                type: 'mc', title: 'ToÃ¡n há»c:',
                question: "10 centimetres = _____",
                options: ["10 kilometres", "100 millimetres", "1 metre", "10 decimetres"],
                correct: "100 millimetres",
                hint: "Quy Ä‘á»•i Ä‘Æ¡n vá»‹ Ä‘o chiá»u dÃ i.",
                explanation_vi: "1 centimetre = 10 milimetres, nÃªn 10cm = $10 \\times 10 = 100$ milimetres. **NghÄ©a cá»§a cÃ¢u: 10 centimet báº±ng 100 milimet.**",
                explanation_en: "1 centimetre = 10 milimetres, so 10cm = 100 milimetres."
            },
            {
                type: 'mc', title: 'Äá»‹a Ä‘iá»ƒm:',
                question: "Where can we get a plaster?",
                options: ["Beauty salon", "Hairdresser's", "Pharmacy", "Bus stop"],
                correct: "Pharmacy",
                hint: "NÆ¡i bÃ¡n thuá»‘c vÃ  dá»¥ng cá»¥ y táº¿.",
                explanation_vi: "Báº¡n cÃ³ thá»ƒ mua bÄƒng dÃ¡n (plaster) táº¡i **Pharmacy** (hiá»‡u thuá»‘c). **NghÄ©a cá»§a cÃ¢u: ChÃºng ta cÃ³ thá»ƒ mua bÄƒng dÃ¡n á»Ÿ Ä‘Ã¢u? - á» hiá»‡u thuá»‘c.**",
                explanation_en: "You can buy a plaster at a **Pharmacy**."
            },
            {
                type: 'mc', title: 'PhÃ¡t Ã¢m khÃ¡c:',
                question: "Find the word which has a different sound in the underlined part: $\\text{u}$",
                options: ["Sunday", "true", "uncle", "luck"],
                correct: "true",
                hint: "ChÃº Ã½ Ã¢m 'u' dÃ i.",
                explanation_vi: "**true** Ä‘á»c lÃ  /uË/. **Sunday, uncle, luck** Ä‘á»u Ä‘á»c lÃ  /ÊŒ/. **NghÄ©a cá»§a cÃ¢u: TÃ¬m tá»« cÃ³ Ã¢m 'u' khÃ¡c biá»‡t: true.**",
                explanation_en: "**true** is pronounced /uË/. The others are pronounced /ÊŒ/."
            },
            {
                type: 'mc', title: 'ThÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n:',
                question: "Don't make noise! Anna _____",
                options: ["sleeps", "are sleeping", "slept", "is sleeping"],
                correct: "is sleeping",
                hint: "Cá»¥m tá»« 'Don't make noise!' lÃ  dáº¥u hiá»‡u cá»§a thÃ¬ nÃ o?",
                explanation_vi: "Dáº¥u hiá»‡u 'Don't make noise!' (Äá»«ng lÃ m á»“n!) yÃªu cáº§u dÃ¹ng Hiá»‡n táº¡i Tiáº¿p diá»…n: **is sleeping**. **NghÄ©a cá»§a cÃ¢u: Äá»«ng lÃ m á»“n! Anna Ä‘ang ngá»§.**",
                explanation_en: "The phrase 'Don't make noise!' indicates the Present Continuous tense: **is sleeping**."
            },
            {
                type: 'mc', title: 'Cá»¥m tá»«:',
                question: "What does she do in her _____ time?",
                options: ["free", "do", "play", "is playing"],
                correct: "free",
                hint: "Danh tá»« 'time' cáº§n tÃ­nh tá»« Ä‘i kÃ¨m.",
                explanation_vi: "Cá»¥m tá»« Ä‘Ãºng lÃ  **free time** (thá»i gian ráº£nh). **NghÄ©a cá»§a cÃ¢u: CÃ´ áº¥y lÃ m gÃ¬ vÃ o thá»i gian ráº£nh?**",
                explanation_en: "The correct phrase is **free time**."
            },
            {
                type: 'mc', title: 'ThÃ¬ Hiá»‡n táº¡i ÄÆ¡n:',
                question: "She _____ Music on Wednesdays and Fridays.",
                options: ["have", "is having", "has", "having"],
                correct: "has",
                hint: "NgÃ´i thá»© ba sá»‘ Ã­t trong Hiá»‡n táº¡i ÄÆ¡n.",
                explanation_vi: "Lá»‹ch há»c (thÃ³i quen) dÃ¹ng Hiá»‡n táº¡i ÄÆ¡n. Chá»§ ngá»¯ 'She' $\rightarrow$ **has**. **NghÄ©a cá»§a cÃ¢u: CÃ´ áº¥y há»c Nháº¡c vÃ o thá»© TÆ° vÃ  thá»© SÃ¡u.**",
                explanation_en: "Schedule (habit) uses Present Simple. Subject 'She' $\rightarrow$ **has**."
            },
            {
                type: 'mc', title: 'PhÃ¡t Ã¢m khÃ¡c:',
                question: "Choose the word whose underlined part is pronounced differently from the others: $\\text{-s}$",
                options: ["books", "lights", "pencils", "lamps"],
                correct: "pencils",
                hint: "Quy táº¯c phÃ¡t Ã¢m Ä‘uÃ´i -s.",
                explanation_vi: "ÄuÃ´i **-s** trong **pencils** Ä‘á»c lÃ  /z/. CÃ¡c tá»« cÃ²n láº¡i Ä‘á»c lÃ  /s/. **NghÄ©a cá»§a cÃ¢u: TÃ¬m tá»« cÃ³ phÃ¡t Ã¢m Ä‘uÃ´i -s khÃ¡c biá»‡t: pencils.**",
                explanation_en: "The ending **-s** in **pencils** is pronounced /z/. The others are pronounced /s/."
            },
            {
                type: 'mc', title: 'So sÃ¡nh hÆ¡n:',
                question: "Jane is _____ than her sister.",
                options: ["beautifuler", "more beautiful", "beautifull", "more beautifuller"],
                correct: "more beautiful",
                hint: "So sÃ¡nh hÆ¡n vá»›i tÃ­nh tá»« dÃ i.",
                explanation_vi: "TÃ­nh tá»« dÃ i 'beautiful' dÃ¹ng so sÃ¡nh hÆ¡n lÃ  **more beautiful**. **NghÄ©a cá»§a cÃ¢u: Jane Ä‘áº¹p hÆ¡n chá»‹ gÃ¡i cÃ´ áº¥y.**",
                explanation_en: "The comparative form of the long adjective 'beautiful' is **more beautiful**."
            },
            {
                type: 'mc', title: 'CÃ¢u phá»§ Ä‘á»‹nh Hiá»‡n táº¡i ÄÆ¡n:',
                question: "Choose the correct sentence.",
                options: [
                    "I don't have a television in my bedroom.",
                    "I not have a television in my bedroom.",
                    "I don't has television in my bedroom.",
                    "I has a television in my bedroom."
                ],
                correct: "I don't have a television in my bedroom.",
                hint: "Trá»£ Ä‘á»™ng tá»« vÃ  Ä‘á»™ng tá»« chÃ­nh trong cÃ¢u phá»§ Ä‘á»‹nh.",
                explanation_vi: "CÃ¢u phá»§ Ä‘á»‹nh Hiá»‡n táº¡i ÄÆ¡n: S + **don't/doesn't + V nguyÃªn máº«u**. 'I' Ä‘i vá»›i **don't have**. **NghÄ©a cá»§a cÃ¢u: TÃ´i khÃ´ng cÃ³ TV trong phÃ²ng ngá»§.**",
                explanation_en: "Negative Present Simple: S + **don't/doesn't + bare V**. 'I' uses **don't have**."
            },
            {
                type: 'mc', title: 'Äá»‹a lÃ½ Viá»‡t Nam:',
                question: "Which province/city is in the Central Vietnam?",
                options: ["Vinh Phuc", "Kien Giang", "Quang Ninh", "Binh Dinh"],
                correct: "Binh Dinh",
                hint: "TÃ¬m tá»‰nh thuá»™c miá»n Trung.",
                explanation_vi: "**BÃ¬nh Äá»‹nh** lÃ  má»™t tá»‰nh thuá»™c miá»n Trung Viá»‡t Nam. **NghÄ©a cá»§a cÃ¢u: Tá»‰nh/thÃ nh phá»‘ nÃ o á»Ÿ miá»n Trung Viá»‡t Nam? - BÃ¬nh Äá»‹nh.**",
                explanation_en: "**Binh Dinh** is a province located in Central Vietnam."
            },
            {
                type: 'mc', title: 'Trá»ng Ã¢m khÃ¡c:',
                question: "Find the word that differs from the rest in the position of the main stress.",
                options: ["careful", "children", "suburb", "activity"],
                correct: "activity",
                hint: "TÃ¬m tá»« cÃ³ trá»ng Ã¢m khÃ¡c biá»‡t.",
                explanation_vi: "**careful** (Ã¢m 1), **children** (Ã¢m 1), **suburb** (Ã¢m 1). **activity** (Ã¢m 2). **NghÄ©a cá»§a cÃ¢u: TÃ¬m tá»« cÃ³ trá»ng Ã¢m khÃ¡c biá»‡t: activity.**",
                explanation_en: "**activity** has the stress on the second syllable, while the others are on the first."
            },
            {
                type: 'mc', title: 'Äá»‹a lÃ½ Viá»‡t Nam:',
                question: "Which province/city is next to the sea?",
                options: ["Lai Chau", "Phu Yen", "Lam Dong", "Binh Duong"],
                correct: "Phu Yen",
                hint: "Tá»‰nh giÃ¡p biá»ƒn.",
                explanation_vi: "**PhÃº YÃªn** lÃ  tá»‰nh giÃ¡p biá»ƒn (duyÃªn háº£i Nam Trung Bá»™). **NghÄ©a cá»§a cÃ¢u: Tá»‰nh/thÃ nh phá»‘ nÃ o giÃ¡p biá»ƒn? - PhÃº YÃªn.**",
                explanation_en: "**Phu Yen** is a coastal province. The others are not."
            },
            {
                type: 'mc', title: 'CÃ¢u phá»§ Ä‘á»‹nh Hiá»‡n táº¡i ÄÆ¡n:',
                question: "He _____ to go to the swimming pool.",
                options: ["don't want", "isn't want", "doesn't wants", "doesn't want"],
                correct: "doesn't want",
                hint: "Trá»£ Ä‘á»™ng tá»« vÃ  Ä‘á»™ng tá»« chÃ­nh Ä‘i vá»›i 'He'.",
                explanation_vi: "Chá»§ ngá»¯ 'He' dÃ¹ng trá»£ Ä‘á»™ng tá»« **doesn't** vÃ  Ä‘á»™ng tá»« chÃ­nh **want** (nguyÃªn máº«u). **NghÄ©a cá»§a cÃ¢u: Anh áº¥y khÃ´ng muá»‘n Ä‘i Ä‘áº¿n há»“ bÆ¡i.**",
                explanation_en: "Subject 'He' uses auxiliary verb **doesn't** and the main verb **want** (bare form)."
            },
            {
                type: 'mc', title: 'Giá»›i tá»« chá»‰ vá»‹ trÃ­:',
                question: "The lake is _____ the building.",
                options: ["next to", "behind", "near", "in front of"],
                correct: "behind",
                hint: "Chá»n giá»›i tá»« chÃ­nh xÃ¡c.",
                explanation_vi: "Táº¥t cáº£ cÃ¡c Ä‘Ã¡p Ã¡n Ä‘á»u lÃ  giá»›i tá»« chá»‰ vá»‹ trÃ­ há»£p lÃ½ vá» máº·t ngá»¯ phÃ¡p. Chá»n **behind** theo Ä‘á» bÃ i. **NghÄ©a cá»§a cÃ¢u: Há»“ nÆ°á»›c á»Ÿ phÃ­a sau tÃ²a nhÃ .**",
                explanation_en: "All options are grammatically correct prepositions of place. **Behind** is selected as the designated answer."
            },
            {
                type: 'mc', title: 'Tá»« vá»±ng (Äá»“ váº­t trong nhÃ ):',
                question: "There is a _____ in the kitchen.",
                options: ["computer", "bath", "bed", "cooker"],
                correct: "cooker",
                hint: "Äá»“ váº­t thÆ°á»ng cÃ³ trong báº¿p.",
                explanation_vi: "**Cooker** (ná»“i/báº¿p náº¥u) lÃ  Ä‘á»“ váº­t thÆ°á»ng cÃ³ trong báº¿p. **NghÄ©a cá»§a cÃ¢u: CÃ³ má»™t cÃ¡i báº¿p náº¥u trong nhÃ  báº¿p.**",
                explanation_en: "A **cooker** is an appliance commonly found in the kitchen."
            },
            {
                type: 'mc', title: 'Sá»‘ Ä‘áº¿m:',
                question: "How many bedrooms are there in the house?",
                options: ["5 bedrooms", "4 bedrooms", "2 bedrooms", "3 bedrooms"],
                correct: "3 bedrooms",
                hint: "Cáº§n chá»n má»™t sá»‘ lÆ°á»£ng cá»¥ thá»ƒ (Ä‘Ã¡p Ã¡n máº·c Ä‘á»‹nh lÃ  D).",
                explanation_vi: "CÃ¢u há»i nÃ y thiáº¿u ngá»¯ cáº£nh. Chá»n **3 bedrooms** theo Ä‘Ã¡p Ã¡n gá»‘c cá»§a Ä‘á» (mang tÃ­nh minh há»a). **NghÄ©a cá»§a cÃ¢u: CÃ³ bao nhiÃªu phÃ²ng ngá»§ trong ngÃ´i nhÃ ? - 3 phÃ²ng ngá»§.**",
                explanation_en: "This question lacks context; **3 bedrooms** is chosen as the default answer for structural purposes."
            },
            {
                type: 'mc', title: 'Trá»ng Ã¢m khÃ¡c:',
                question: "Find the word that differs from the rest in the position of the main stress.",
                options: ["brother", "doctor", "sister", "sixteen"],
                correct: "sixteen",
                hint: "ChÃº Ã½ trá»ng Ã¢m cá»§a sá»‘ Ä‘áº¿m.",
                explanation_vi: "**brother, doctor, sister** (Ã¢m 1). **sixteen** (Ã¢m 2, vá»›i 'teen'). **NghÄ©a cá»§a cÃ¢u: TÃ¬m tá»« cÃ³ trá»ng Ã¢m khÃ¡c biá»‡t: sixteen.**",
                explanation_en: "**sixteen** has the stress on the second syllable. The others are on the first."
            },
            {
                type: 'mc', title: 'Äá»‹a lÃ½:',
                question: "Which ocean is larger, the Pacific Ocean or the Arctic Ocean?",
                options: ["Pacific", "Atlantic", "Indian", "Southern"],
                correct: "Pacific",
                hint: "Äáº¡i dÆ°Æ¡ng lá»›n nháº¥t tháº¿ giá»›i.",
                explanation_vi: "ThÃ¡i BÃ¬nh DÆ°Æ¡ng (**Pacific**) lÃ  Ä‘áº¡i dÆ°Æ¡ng lá»›n nháº¥t tháº¿ giá»›i. **NghÄ©a cá»§a cÃ¢u: Äáº¡i dÆ°Æ¡ng nÃ o lá»›n hÆ¡n, ThÃ¡i BÃ¬nh DÆ°Æ¡ng hay Báº¯c BÄƒng DÆ°Æ¡ng? - ThÃ¡i BÃ¬nh DÆ°Æ¡ng.**",
                explanation_en: "The Pacific Ocean is the largest in the world."
            },
            {
                type: 'mc', title: 'Viáº¿t láº¡i cÃ¢u (So sÃ¡nh):',
                question: "Choose the sentence that is closest in meaning to the following sentence: The market is older than the shopping centre.",
                options: [
                    "The shopping centre newer than the market.",
                    "The shopping centre is new than the market.",
                    "The shopping centre is newer than the market.",
                    "The shopping centre is new than the market."
                ],
                correct: "The shopping centre is newer than the market.",
                hint: "Older $\\Leftrightarrow$ Newer.",
                explanation_vi: "Náº¿u chá»£ **older** (cÅ© hÆ¡n) trung tÃ¢m mua sáº¯m, thÃ¬ trung tÃ¢m mua sáº¯m **newer** (má»›i hÆ¡n) chá»£. Cáº¥u trÃºc Ä‘Ãºng lÃ  **is newer than**. **NghÄ©a cá»§a cÃ¢u: Chá»£ cÅ© hÆ¡n trung tÃ¢m mua sáº¯m. (TÆ°Æ¡ng Ä‘Æ°Æ¡ng) Trung tÃ¢m mua sáº¯m má»›i hÆ¡n chá»£.**",
                explanation_en: "If the market is older, the shopping centre is **newer**. The correct structure is **is newer than**."
            },
            {
                type: 'mc', title: 'Sá»­a lá»—i:',
                question: "Choose the part that needs correction in the following sentence: My friend is listens to music now.",
                options: ["to", "listens", "music", "is"],
                correct: "listens",
                hint: "Lá»—i thÃ¬ Hiá»‡n táº¡i Tiáº¿p diá»…n.",
                explanation_vi: "Trong Hiá»‡n táº¡i Tiáº¿p diá»…n, sau 'is' pháº£i lÃ  V-ing. Sá»­a **listens** thÃ nh **listening**. **NghÄ©a cá»§a cÃ¢u: CÃ¢u My friend is listens to music now sai á»Ÿ tá»« listens.**",
                explanation_en: "In the Present Continuous tense, the verb should be V-ing. Change **listens** to **listening**."
            },
            {
                type: 'mc', title: 'Thá»i gian:',
                question: "When is the best time to open the store?",
                options: ["It's from 8 a.m. to 9 p.m.", "It's from 9 a.m. to 8 p.m.", "It's from 9 a.m. to 9 p.m.", "It's from 8 a.m. to 8 p.m."],
                correct: "It's from 9 a.m. to 9 p.m.",
                hint: "Cáº§n chá»n má»™t khung giá» há»£p lÃ½ (Mang tÃ­nh minh há»a).",
                explanation_vi: "CÃ¢u há»i thiáº¿u ngá»¯ cáº£nh vá» giá» má»Ÿ cá»­a. **9 a.m. to 9 p.m.** lÃ  má»™t khung giá» hoáº¡t Ä‘á»™ng bÃ¡n láº» phá»• biáº¿n. **NghÄ©a cá»§a cÃ¢u: Thá»i Ä‘iá»ƒm tá»‘t nháº¥t Ä‘á»ƒ má»Ÿ cá»­a hÃ ng lÃ  khi nÃ o? - Tá»« 9 giá» sÃ¡ng Ä‘áº¿n 9 giá» tá»‘i.**",
                explanation_en: "Lacking context, **9 a.m. to 9 p.m.** is a common retail operating hour (illustrative answer)."
            },
            {
                type: 'mc', title: 'Äá»‹a lÃ½:',
                question: "Which country is NOT in Asia?",
                options: ["Indonesia", "Singapore", "Germany", "Thailand"],
                correct: "Germany",
                hint: "Quá»‘c gia thuá»™c chÃ¢u Ã‚u.",
                explanation_vi: "**Germany** (Äá»©c) náº±m á»Ÿ ChÃ¢u Ã‚u, khÃ´ng pháº£i ChÃ¢u Ã. **NghÄ©a cá»§a cÃ¢u: Quá»‘c gia nÃ o khÃ´ng thuá»™c chÃ¢u Ã? - Äá»©c.**",
                explanation_en: "**Germany** is located in Europe, not Asia."
            },
            {
                type: 'mc', title: 'Thá»i gian:',
                question: "Note: The library opens at 9 o'clock in the morning and closes at 5 o'clock in the afternoon. What time does the library open?",
                options: ["5 a.m", "9 a.m", "9 p.m", "5 p.m"],
                correct: "9 a.m",
                hint: "Giá» má»Ÿ cá»­a buá»•i sÃ¡ng.",
                explanation_vi: "ThÆ° viá»‡n má»Ÿ cá»­a lÃºc 9 giá» sÃ¡ng, tá»©c lÃ  **9 a.m**. **NghÄ©a cá»§a cÃ¢u: ThÆ° viá»‡n má»Ÿ cá»­a lÃºc máº¥y giá»? - 9 giá» sÃ¡ng.**",
                explanation_en: "The library opens at 9 o'clock in the morning, which is **9 a.m**."
            },
            {
                type: 'mc', title: 'Chia Ä‘á»™ng tá»«:',
                question: "Which verb adds 'es' in the third person?",
                options: ["walk", "see", "miss", "take"],
                correct: "miss",
                hint: "Äá»™ng tá»« káº¿t thÃºc báº±ng sibilants (Ã¢m xÃ¬).",
                explanation_vi: "Äá»™ng tá»« káº¿t thÃºc báº±ng -ss (nhÆ° **miss**) sáº½ thÃªm **-es** á»Ÿ ngÃ´i thá»© ba sá»‘ Ã­t (misses). **NghÄ©a cá»§a cÃ¢u: Äá»™ng tá»« nÃ o thÃªm 'es' á»Ÿ ngÃ´i thá»© ba sá»‘ Ã­t? - miss.**",
                explanation_en: "Verbs ending in -ss (like **miss**) add **-es** in the third person singular (misses)."
            },
            {
                type: 'mc', title: 'Tá»« trÃ¡i nghÄ©a:',
                question: "Find the word(s) has the OPPOSITE meaning to the underlined part: I think museum is **boring**. I like historic places but not museum.",
                options: ["shy", "sporty", "interesting", "curious"],
                correct: "interesting",
                hint: "TrÃ¡i nghÄ©a vá»›i 'boring' (nhÃ m chÃ¡n).",
                explanation_vi: "TrÃ¡i nghÄ©a vá»›i **boring** (nhÃ m chÃ¡n) lÃ  **interesting** (thÃº vá»‹). **NghÄ©a cá»§a cÃ¢u: TÃ¬m tá»« trÃ¡i nghÄ©a vá»›i boring: interesting.**",
                explanation_en: "The opposite of **boring** is **interesting**."
            },
            {
                type: 'mc', title: 'Tá»« vá»±ng (Äá»“ váº­t):',
                question: "What is Phong reading?",
                options: ["14 books", "Screen", "Magazine", "Books"],
                correct: "Books",
                hint: "Chá»‰ má»™t danh tá»« chung (Mang tÃ­nh minh há»a).",
                explanation_vi: "CÃ¢u há»i nÃ y thiáº¿u ngá»¯ cáº£nh. Chá»n **Books** lÃ  danh tá»« chung Ä‘á»ƒ minh há»a hÃ nh Ä‘á»™ng 'reading'. **NghÄ©a cá»§a cÃ¢u: Phong Ä‘ang Ä‘á»c gÃ¬? - SÃ¡ch.**",
                explanation_en: "Lacking context, **Books** is chosen as the general noun to illustrate the action 'reading' (illustrative answer)."
            }
        ];

        // --- Biáº¿n Tráº¡ng thÃ¡i TrÃ² chÆ¡i ---
        let playerName = '';
        let currentQuestionIndex = 0;
        let score = 0;
        let questionsAttempted = 0;
        let isCorrectlyAnswered = false; // Theo dÃµi xem cÃ¢u nÃ y Ä‘Ã£ Ä‘Æ°á»£c tráº£ lá»i Ä‘Ãºng láº§n Ä‘áº§u chÆ°a

        // --- DOM Elements ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const completeScreen = document.getElementById('complete-screen');
        const playerNameInput = document.getElementById('player-name-input');
        const displayPlayerName = document.getElementById('display-player-name');
        const displayScore = document.getElementById('display-score');
        const displayProgress = document.getElementById('display-progress');
        const questionTitle = document.getElementById('question-title');
        const questionContent = document.getElementById('question-content');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackMessage = document.getElementById('feedback-message');
        const explanationBox = document.getElementById('explanation-box');
        const explanationText = document.getElementById('explanation-text');
        const nextButton = document.getElementById('next-button');
        const hintButton = document.getElementById('hint-button');
        const hintText = document.getElementById('hint-text');
        const finalScoreDisplay = document.getElementById('final-score');
        const totalQuestions = questions.length;
        const toastContainer = document.getElementById('toast-container'); // NEW: Toast container
        
        // Cáº­p nháº­t sá»‘ cÃ¢u há»i trÃªn mÃ n hÃ¬nh báº¯t Ä‘áº§u
        document.querySelector('#start-screen p').textContent = `Nháº­p tÃªn cá»§a báº¡n Ä‘á»ƒ báº¯t Ä‘áº§u luyá»‡n táº­p (tá»•ng ${totalQuestions} cÃ¢u).`;


        // --- Custom Toast Logic (thay tháº¿ alert() bá»‹ cáº¥m) ---
        function showToast(message, type = 'error', duration = 3000) {
            const toast = document.createElement('div');
            toast.className = `toast text-white ${type === 'error' ? 'bg-error' : 'bg-info'}`;
            toast.innerHTML = `<span class="font-bold">${type === 'error' ? 'Lá»—i: ' : 'ThÃ´ng bÃ¡o: '}</span> ${message}`;
            
            toastContainer.prepend(toast); // Add new toasts to the top
            
            // Show toast
            setTimeout(() => {
                toast.classList.add('show');
            }, 50);

            // Hide and remove toast
            setTimeout(() => {
                toast.classList.remove('show');
                toast.classList.add('opacity-0', 'scale-y-0'); // Add a shrinking effect
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, duration);
        }

        // --- Logic Game Flow ---

        function startGame() {
            playerName = playerNameInput.value.trim();
            if (playerName.length < 2) {
                // Sá»­ dá»¥ng Toast má»›i
                showToast('Vui lÃ²ng nháº­p tÃªn cá»§a báº¡n Ä‘á»ƒ báº¯t Ä‘áº§u.', 'error');
                playerNameInput.classList.add('border-error', 'ring-2', 'ring-error');
                setTimeout(() => { playerNameInput.classList.remove('border-error', 'ring-2', 'ring-error'); }, 1000);
                return;
            }
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            quizScreen.classList.add('flex');
            
            displayPlayerName.textContent = playerName;
            
            // XÃ¡o trá»™n cÃ¢u há»i
            questions.sort(() => Math.random() - 0.5);

            currentQuestionIndex = 0;
            score = 0;
            questionsAttempted = 0;
            updateScoreDisplay();
            loadQuestion(currentQuestionIndex);
        }

        function resetGame() {
            completeScreen.classList.add('hidden');
            // XÃ³a phÃ¡o hoa
            const confettiCanvas = document.getElementById('confetti-canvas');
            confettiCanvas.innerHTML = ''; 
            
            // Quay láº¡i mÃ n hÃ¬nh báº¯t Ä‘áº§u
            startScreen.classList.remove('hidden');
            playerNameInput.value = '';
        }

        function updateScoreDisplay() {
            displayScore.textContent = score;
            // Hiá»ƒn thá»‹ sá»‘ cÃ¢u há»i hiá»‡n táº¡i (1-based) / Tá»•ng sá»‘ cÃ¢u.
            const currentQNum = currentQuestionIndex < totalQuestions ? currentQuestionIndex + 1 : totalQuestions;
            displayProgress.textContent = `${currentQNum}/${totalQuestions}`;
        }

        function loadQuestion(index) {
            if (index >= totalQuestions) {
                showCompleteScreen();
                return;
            }

            // Reset tráº¡ng thÃ¡i
            isCorrectlyAnswered = false;
            feedbackArea.classList.add('hidden');
            feedbackMessage.textContent = '';
            explanationBox.classList.add('hidden');
            nextButton.disabled = true;
            nextButton.classList.remove('btn-success');
            nextButton.textContent = 'Tiáº¿p theo Â»';

            const q = questions[index];
            questionTitle.textContent = `CÃ¢u ${index + 1}/${totalQuestions} - ${q.title}`;
            hintText.textContent = `Gá»£i Ã½: ${q.hint}`;

            // Táº¡o ná»™i dung cÃ¢u há»i
            let contentHTML = '';
            
            if (q.type === 'rearrange') {
                const shuffledWords = [...q.words].sort(() => Math.random() - 0.5);
                contentHTML = `
                    <p class="text-lg text-gray-700 font-medium mb-4">Sáº¯p xáº¿p cÃ¡c tá»« sau báº±ng cÃ¡ch nháº¥p vÃ o cÃ¡c nÃºt:</p>
                    <div id="rearrange-words" class="flex flex-wrap gap-2 mb-4 p-4 border border-dashed border-gray-300 rounded-xl bg-gray-50">
                        ${shuffledWords.map(word => `<button class="word-btn btn bg-info text-sm py-1 px-3" data-word="${word.trim()}" onclick="selectWord(this)">${word.trim()}</button>`).join('')}
                    </div>
                    <p class="text-lg font-semibold text-primary mb-2">CÃ¢u tráº£ lá»i cá»§a báº¡n:</p>
                    <div class="flex items-center space-x-2">
                        <input type="text" id="rearrange-input" readonly placeholder="CÃ¢u tráº£ lá»i sáº½ hiá»‡n ra khi báº¡n nháº¥p vÃ o tá»«..." 
                            class="flex-grow px-4 py-2 border border-gray-300 rounded-xl focus:ring-primary focus:border-primary transition duration-150">
                        <button onclick="resetRearrange()" class="btn bg-gray-500 hover:bg-gray-600 text-sm">XÃ³a</button>
                        <button onclick="checkRearrangeAnswer()" class="btn btn-primary text-sm">Kiá»ƒm tra</button>
                    </div>
                `;
            } else if (q.type === 'fill') {
                const textWithBlank = q.text.replace('_____', '<span class="text-xl font-bold text-red-500">_______</span>');
                contentHTML = `
                    <p class="text-xl font-medium text-gray-800 p-4 border border-gray-300 rounded-xl bg-gray-50">${textWithBlank}</p>
                    <p class="text-lg font-semibold text-primary mb-2 mt-4">Äiá»n tá»«:</p>
                    <input type="text" id="fill-input" placeholder="Nháº­p tá»« cÃ²n thiáº¿u..." 
                        class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-primary focus:border-primary transition duration-150" onkeyup="if(event.key === 'Enter') checkFillAnswer()">
                    <button onclick="checkFillAnswer()" class="btn btn-primary w-full mt-2">Kiá»ƒm tra</button>
                `;
            } else if (q.type === 'mc') {
                // Randomize options for MC
                const shuffledOptions = q.options.map(option => ({ text: option, correct: option === q.correct }));
                shuffledOptions.sort(() => Math.random() - 0.5);

                const optionsHTML = shuffledOptions.map((option, i) => `
                    <div class="mc-option-container">
                        <input type="radio" id="mc-option-${index}-${i}" name="mc-choice" value="${option.text}" class="hidden" 
                            onclick="checkMCAnswer(this)">
                        <label for="mc-option-${index}-${i}" class="block p-3 border border-gray-300 rounded-xl cursor-pointer hover:bg-primary/10 transition duration-150 text-gray-800">
                            <span class="font-bold mr-2 text-primary">${String.fromCharCode(65 + i)}.</span> ${option.text}
                        </label>
                    </div>
                `).join('');
                contentHTML = `
                    <p class="text-xl font-medium text-gray-800 p-4 border border-gray-300 rounded-xl bg-gray-50">${q.question}</p>
                    <div class="mt-4 space-y-2" id="mc-options">${optionsHTML}</div>
                `;
            }

            questionContent.innerHTML = contentHTML;
            updateScoreDisplay();
        }

        // --- Logic CÃ¢u tráº£ lá»i ---

        function handleCorrectAnswer(correctAnswer, explanation_vi, explanation_en) {
            if (!isCorrectlyAnswered) {
                score += 10;
                questionsAttempted++;
                isCorrectlyAnswered = true; // ÄÃ¡nh dáº¥u lÃ  Ä‘Ã£ tráº£ lá»i Ä‘Ãºng láº§n Ä‘áº§u chÆ°a
            }
            
            updateScoreDisplay();

            feedbackArea.classList.remove('hidden');
            feedbackMessage.className = 'text-lg font-semibold p-3 mb-3 rounded-xl bg-success text-white';
            feedbackMessage.textContent = 'âœ… ChÃ­nh xÃ¡c! (ÄÃ£ lÃ m: ' + questionsAttempted + ')';

            // ÄÃ£ cáº­p nháº­t Ä‘á»ƒ hiá»ƒn thá»‹ cáº£ nghÄ©a cá»§a cÃ¢u Ä‘Ãºng.
            explanationText.innerHTML = `
                <p class="mb-2"><strong>ÄÃ¡p Ã¡n Ä‘Ãºng:</strong> ${correctAnswer}</p>
                <p class="mb-2"><strong>NghÄ©a cá»§a cÃ¢u:</strong> ${explanation_vi.match(/NghÄ©a cá»§a cÃ¢u: (.*?)(?:\.|\.$|$)/)?.[1]?.trim() || explanation_vi.match(/NghÄ©a cá»§a cÃ¢u: (.*)/)?.[1]?.trim() || '(KhÃ´ng cÃ³ sáºµn)'}</p>
                <p class="mb-2"><strong>Giáº£i thÃ­ch:</strong> ${explanation_vi.replace(/NghÄ©a cá»§a cÃ¢u:.*?\.?$/, '').trim()}</p>
                <p><strong>Explanation (English):</strong> ${explanation_en}</p>
            `;
            explanationBox.classList.remove('hidden');

            nextButton.disabled = false;
            nextButton.classList.add('btn-success');
            nextButton.textContent = 'Tuyá»‡t vá»i! Tiáº¿p theo Â»';
            disableCurrentQuestion();
        }

        function handleWrongAnswer() {
            feedbackArea.classList.remove('hidden');
            feedbackMessage.className = 'text-lg font-semibold p-3 mb-3 rounded-xl bg-error text-white';
            feedbackMessage.textContent = 'âŒ Sai rá»“i. HÃ£y thá»­ láº¡i!';
            explanationBox.classList.add('hidden');
        }

        function disableCurrentQuestion() {
            const currentQ = questions[currentQuestionIndex];
            if (currentQ.type === 'mc') {
                document.querySelectorAll('#mc-options input').forEach(input => input.disabled = true);
                document.querySelectorAll('#mc-options label').forEach(label => label.classList.remove('hover:bg-primary/10', 'cursor-pointer'));
            } else if (currentQ.type === 'fill') {
                document.getElementById('fill-input').disabled = true;
                document.querySelector('#question-content button:last-child').disabled = true; // Disable Check button
            } else if (currentQ.type === 'rearrange') {
                document.getElementById('rearrange-input').disabled = true;
                document.querySelectorAll('.word-btn').forEach(btn => btn.disabled = true);
                document.querySelector('#question-content .flex.items-center button:last-child').disabled = true; // Disable Check button
                document.querySelector('#question-content .flex.items-center button:nth-child(2)').disabled = true; // Disable Reset button
            }
        }

        // Kiá»ƒm tra cÃ¢u há»i tráº¯c nghiá»‡m (Multiple Choice)
        function checkMCAnswer(radio) {
            const q = questions[currentQuestionIndex];
            const correctAnswer = q.correct; // Láº¥y Ä‘Ã¡p Ã¡n Ä‘Ãºng tá»« máº£ng questions
            
            const selectedAnswer = radio.value;

            // ÄÃ¡nh dáº¥u Ä‘Ã¡p Ã¡n Ä‘Ãºng/sai trÃªn UI
            document.querySelectorAll('#mc-options input').forEach(input => {
                const label = input.nextElementSibling;
                label.classList.remove('bg-success/20', 'bg-error/20');
                if (input.value === correctAnswer) {
                    label.classList.add('bg-success/20', 'border-success', 'font-bold');
                } else if (input.checked) {
                    label.classList.add('bg-error/20', 'border-error', 'font-bold');
                }
            });

            if (selectedAnswer === correctAnswer) {
                handleCorrectAnswer(selectedAnswer, q.explanation_vi, q.explanation_en);
            } else {
                handleWrongAnswer();
            }
        }

        // Kiá»ƒm tra cÃ¢u há»i Ä‘iá»n tá»« (Fill-in-the-blank)
        function checkFillAnswer() {
            const q = questions[currentQuestionIndex];
            
            // Xá»­ lÃ½ nhiá»u Ä‘Ã¡p Ã¡n (náº¿u cÃ³)
            const correctAnswers = q.multiple_answers || [q.answer];
            
            const input = document.getElementById('fill-input');
            const userAnswer = input.value.trim().toLowerCase().replace(/[.,!?:;]$/, ''); // Loáº¡i bá» dáº¥u cÃ¢u cuá»‘i
            
            let isCorrect = false;
            let actualCorrectAnswer = q.answer; // Láº¥y Ä‘Ã¡p Ã¡n chuáº©n Ä‘á»ƒ hiá»ƒn thá»‹

            // Kiá»ƒm tra cÃ¢u tráº£ lá»i cÃ³ khá»›p vá»›i báº¥t ká»³ Ä‘Ã¡p Ã¡n nÃ o trong máº£ng khÃ´ng
            for (const ans of correctAnswers) {
                if (userAnswer === ans.trim().toLowerCase().replace(/[.,!?:;]$/, '')) {
                    isCorrect = true;
                    break;
                }
            }

            if (isCorrect) {
                input.classList.remove('border-error', 'bg-error/5');
                input.classList.add('border-success', 'bg-success/5');
                handleCorrectAnswer(actualCorrectAnswer, q.explanation_vi, q.explanation_en);
            } else {
                input.classList.remove('border-success', 'bg-success/5');
                input.classList.add('border-error', 'bg-error/5');
                handleWrongAnswer();
            }
        }

        // Logic xá»­ lÃ½ khi click vÃ o tá»«
        function selectWord(button) {
            const word = button.getAttribute('data-word');
            const input = document.getElementById('rearrange-input');
            
            // Náº¿u cÃ¢u há»i Ä‘Ã£ tráº£ lá»i Ä‘Ãºng, khÃ´ng cho phÃ©p tÆ°Æ¡ng tÃ¡c
            if (input.disabled) return; 

            // ThÃªm tá»« vÃ o Ã´ nháº­p liá»‡u vÃ  thÃªm khoáº£ng tráº¯ng
            input.value += (word + ' ');
            
            // VÃ´ hiá»‡u hÃ³a nÃºt Ä‘á»ƒ trÃ¡nh nháº¥p Ä‘Ãºp
            button.disabled = true;
            button.classList.remove('bg-info', 'hover:bg-primary-dark');
            button.classList.add('bg-gray-400', 'cursor-not-allowed');
            
            // áº¨n pháº£n há»“i náº¿u cÃ³ sai sÃ³t trÆ°á»›c Ä‘Ã³
            feedbackArea.classList.add('hidden');
        }

        // Logic xÃ³a cÃ¢u tráº£ lá»i sáº¯p xáº¿p
        function resetRearrange() {
            const input = document.getElementById('rearrange-input');
            input.value = '';
            document.querySelectorAll('.word-btn').forEach(btn => {
                btn.disabled = false;
                btn.classList.add('bg-info', 'hover:bg-primary-dark');
                btn.classList.remove('bg-gray-400', 'cursor-not-allowed');
            });
            // áº¨n thÃ´ng bÃ¡o pháº£n há»“i khi ngÆ°á»i chÆ¡i reset
            feedbackArea.classList.add('hidden');
            // Reset viá»n input
            input.classList.remove('border-error', 'bg-error/5', 'border-success', 'bg-success/5');
        }

        // Kiá»ƒm tra cÃ¢u há»i sáº¯p xáº¿p (Rearrange)
        function checkRearrangeAnswer() {
            const q = questions[currentQuestionIndex];
            const correctAnswer = q.answer; // Láº¥y Ä‘Ã¡p Ã¡n Ä‘Ãºng tá»« máº£ng questions
            
            const input = document.getElementById('rearrange-input');
            // Loáº¡i bá» khoáº£ng tráº¯ng thá»«a, dáº¥u cháº¥m/pháº©y cuá»‘i cÃ¢u vÃ  chuyá»ƒn thÃ nh chá»¯ thÆ°á»ng
            const userAnswer = input.value.trim().toLowerCase().replace(/[.,!?:;]$/, '');
            const correctLower = correctAnswer.trim().toLowerCase().replace(/[.,!?:;]$/, '');
            
            // So sÃ¡nh chuá»—i Ä‘Ã£ chuáº©n hÃ³a (loáº¡i bá» dáº¥u cÃ¢u cuá»‘i, chá»¯ hoa, khoáº£ng tráº¯ng thá»«a)
            const normalize = (str) => str.replace(/[^a-zA-Z0-9\s]/g, '').replace(/\s+/g, ' ').trim();
            const userAnswerNormalize = normalize(userAnswer);
            const correctLowerNormalize = normalize(correctLower);

            if (userAnswerNormalize === correctLowerNormalize) {
                input.classList.remove('border-error', 'bg-error/5');
                input.classList.add('border-success', 'bg-success/5');
                // Sá»­a láº¡i input hiá»ƒn thá»‹ Ä‘Ã¡p Ã¡n Ä‘Ãºng (cÃ³ dáº¥u cháº¥m náº¿u cáº§n)
                input.value = correctAnswer; 
                handleCorrectAnswer(correctAnswer, q.explanation_vi, q.explanation_en);
            } else {
                input.classList.remove('border-success', 'bg-success/5');
                input.classList.add('border-error', 'bg-error/5');
                handleWrongAnswer();
            }
        }

        // --- Logic Gá»£i Ã½ ---
        function showHint() {
            hintButton.classList.add('show-hint');
        }

        function hideHint() {
            hintButton.classList.remove('show-hint');
        }

        // --- Logic Chuyá»ƒn cÃ¢u há»i ---
        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion(currentQuestionIndex);
        }
        
        // --- MÃ n hÃ¬nh hoÃ n thÃ nh ---
        function showCompleteScreen() {
            quizScreen.classList.add('hidden');
            completeScreen.classList.remove('hidden');
            finalScoreDisplay.textContent = `${score} / ${totalQuestions * 10} Ä‘iá»ƒm`;
            
            // KÃ­ch hoáº¡t phÃ¡o hoa (Confetti)
            triggerConfetti();
        }
        
        // --- Hiá»‡u á»©ng PhÃ¡o hoa (Confetti) ---
        function triggerConfetti() {
            const confettiCanvas = document.getElementById('confetti-canvas');
            confettiCanvas.innerHTML = ''; 
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722'];
            const count = 100;

            for (let i = 0; i < count; i++) {
                const piece = document.createElement('div');
                piece.style.position = 'absolute';
                piece.style.width = `${Math.random() * 10 + 5}px`;
                piece.style.height = `${Math.random() * 10 + 5}px`;
                piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                piece.style.left = `${Math.random() * 100}vw`;
                piece.style.top = `${Math.random() * -100}vh`; 
                piece.style.opacity = Math.random() + 0.5;
                piece.style.transform = `rotate(${Math.random() * 360}deg)`;
                
                const duration = Math.random() * 3 + 2; 
                const delay = Math.random() * 0.5;
                piece.style.animation = `fall ${duration}s ease-in ${delay}s forwards`;

                confettiCanvas.appendChild(piece);
            }

            if (!document.querySelector('style[data-confetti]')) {
                const style = document.createElement('style');
                style.setAttribute('data-confetti', true);
                style.innerHTML = `
                    @keyframes fall {
                        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                        100% { transform: translateY(105vh) rotate(720deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }


        // --- Khá»Ÿi táº¡o ---
        window.onload = () => {
             console.log("á»¨ng dá»¥ng táº£i thÃ nh cÃ´ng. Tá»•ng sá»‘ cÃ¢u há»i: ", questions.length);
        };
    </script>
</body>
</html>
